(function(t){function e(e){for(var r,i,o=e[0],c=e[1],u=e[2],l=0,p=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(r=!1)}r&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var r={},s={app:0},n=[];function i(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"454a6f65"}[t]+".js"}function o(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=s[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,r){a=s[t]=[e,r]}));e.push(a[2]=r);var n,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=i(t);var u=new Error;n=function(e){c.onerror=c.onload=null,clearTimeout(l);var a=s[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",u.name="ChunkLoadError",u.type=r,u.request=n,a[1](u)}s[t]=void 0}};var l=setTimeout((function(){n({type:"timeout",target:c})}),12e4);c.onerror=c.onload=n,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=r,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(a,r,function(e){return t[e]}.bind(null,r));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=u;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"02df":function(t,e,a){t.exports=a.p+"img/SIM7600X.01767b98.jpg"},2386:function(t,e,a){"use strict";var r=a("a555"),s=a.n(r);s.a},2991:function(t,e,a){"use strict";var r=a("a8d1"),s=a.n(r);s.a},"2d5e":function(t,e,a){},"32ff":function(t,e,a){},"398f":function(t,e,a){"use strict";var r=a("3f19"),s=a.n(r);s.a},"3f19":function(t,e,a){},4678:function(t,e,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}s.keys=function(){return Object.keys(r)},s.resolve=n,t.exports=s,s.id="4678"},4853:function(t,e,a){"use strict";var r=a("c343"),s=a.n(r);s.a},"4b4d":function(t,e,a){},"4ccf":function(t,e,a){"use strict";var r=a("725e"),s=a.n(r);s.a},"527f":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79df");var r=a("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-locale-provider",{attrs:{locale:t.zh_CN}},[r("div",{staticClass:"app_box",attrs:{id:"app"}},[t.showNav?r("a-layout-header",{staticClass:"header_bar"},[r("a",{staticClass:"logo",attrs:{href:"/"}},[r("img",{attrs:{src:a("6758")}})]),r("navList"),r("navUser")],1):t._e(),r("a-layout",{class:t.mainClass,attrs:{hidden:t.hidePage}},[r("router-view",{attrs:{name:"sidebar"}}),r("a-layout",{staticClass:"view_box"},[r("a-layout-content",{staticClass:"view_content"},[r("router-view",{staticClass:"view_main",attrs:{userActivatedNo:t.userActivatedNo}}),t.showNav?r("a-layout-footer",{class:"footer "+("/settings"==t.routerFirst?"settings":"")},[t._v(" Copyright ©2020 "),r("a",{attrs:{href:"https://www.iqiar.com"}},[t._v("IQiar.com")]),t._v(" All rights reserved. ")]):t._e()],1)],1)],1),!t.isLogin&&t.hidePage?r("a-layout",{staticClass:"main_box disconnection"},[r("div",{staticClass:"tips"},[t._v("...")])]):t._e(),!t.network&&t.hidePage?r("a-layout",{staticClass:"main_box disconnection"},[r("div",{staticClass:"tips"},[t._v(" QiarAI未启动！ "),r("a-icon",{attrs:{type:"api"}}),r("br"),t._v("请确保已经执行./qiar ")],1)]):t._e()],1)])},n=[],i=(a("b0c0"),a("677e")),o=a.n(i),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav_user",attrs:{theme:"dark",width:"100%"}},[a("li",{directives:[{name:"show",rawName:"v-show",value:t.unread>0,expression:"unread > 0"}],staticClass:"alert menu-item ant-menu-item",on:{click:t.showDrawer}},[a("a-icon",{staticClass:"icon",attrs:{type:"alert"}}),a("span",{staticClass:"text"},[t._v(t._s(t.unread))])],1),a("li",{staticClass:"avatar menu-item ant-menu-item"},[a("a-avatar",{staticClass:"ava",attrs:{icon:"user",size:"small"}}),a("span",{staticClass:"text",on:{click:t.logout}},[t._v("注销")])],1),a("a-drawer",{attrs:{title:"通知中心",placement:"right",closable:!0,width:500,visible:t.visible,afterVisibleChange:t.afterVisibleChange},on:{close:t.onClose}},[a("div",{staticClass:"notice"},[a("div",{staticClass:"head"},[a("a",{on:{click:t.handleRead}},[t._v("清除全部")])]),a("ul",t._l(t.notice,(function(e,r){return a("li",{key:r,class:1==e.T?"red":""},[a("p",[t._v(t._s(e.M))]),a("span",[t._v(t._s(e.D))])])})),0)])])],1)},u=[],l={data:function(){return{visible:!1,notice:[],unread:0}},props:{isCollapsed:Boolean},watch:{$route:function(){this.loadNotice()}},created:function(){this.loadNotice()},methods:{logout:function(){this.$api.auth.logout()},loadNotice:function(){var t=this;this.$api.logs.getNoticeList().then((function(e){t.notice=e.list,t.unread=e.unread}))},afterVisibleChange:function(t){console.log("visible",t)},showDrawer:function(){this.visible=!0},onClose:function(){this.visible=!1},handleRead:function(){var t=this;this.$api.logs.getNoticeList({ac:"read"}).then((function(e){t.notice=e.list,t.unread=e.unread}))}}},d=l,p=(a("b023"),a("0c7c")),m=Object(p["a"])(d,c,u,!1,null,"66b02d0b",null),f=m.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav-list ant-menu ant-menu-vertical ant-menu-root ant-menu-dark",attrs:{theme:"dark"}},[a("li",{staticClass:"menu-item ant-menu-item"},[a("router-link",{attrs:{to:"/","active-class":"nav_active",exact:!0}},[a("a-icon",{staticClass:"icon",attrs:{type:"phone",theme:"filled"}}),a("span",{staticClass:"text"},[t._v("电话记录")])],1)],1),a("li",{staticClass:"menu-item ant-menu-item"},[a("router-link",{attrs:{to:"/talk","active-class":"nav_active"}},[a("a-icon",{staticClass:"icon",attrs:{type:"build",theme:"filled"}}),a("span",{staticClass:"text"},[t._v("自定义话术")])],1)],1),a("li",{staticClass:"menu-item ant-menu-item"},[a("router-link",{attrs:{to:"/settings","active-class":"nav_active"}},[a("a-icon",{staticClass:"icon",attrs:{type:"setting",theme:"filled"}}),a("span",{staticClass:"text"},[t._v("系统设置")])],1)],1)])},v=[],b={data:function(){return{}},props:{},computed:{}},y=b,g=(a("398f"),Object(p["a"])(y,h,v,!1,null,"6132c54e",null)),_=g.exports,k=(a("4d63"),a("ac1f"),a("25f0"),a("5319"),{formatDate:function(t,e){if(e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var r in a)if(new RegExp("(".concat(r,")")).test(e)){var s=a[r]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?s:this.padLeftZero(s))}return e}return Date.parse(t)/1e3},padLeftZero:function(t){return("00"+t).substr(t.length)},formatPhone:function(t){return t.substr(0,3)+"******"+t.substr(9,11)}}),w=k,x={name:"app",data:function(){return{zh_CN:o.a,userInfo:{},userActivatedNo:!1,hidePage:!0,mainClass:"main_box",reLogin:!1}},components:{navUser:f,navList:_},watch:{$route:function(){this.loadAuth(),this.loadSetting()}},created:function(){this.loadAuth()},computed:{showNav:function(){return this.isLogin},network:function(){return this.$store.state.common.network},isLogin:function(){var t=new Date;return w.formatDate(new Date(this.$store.state.common.token.exp))>=w.formatDate(t)},routerFirst:function(){return this.$route.matched[0].path}},mounted:function(){this.loadSetting()},methods:{loadAuth:function(){var t=this;"login"==this.$route.name||"register"==this.$route.name?this.mainClass="main_box welcome":this.mainClass="main_box","login"!=this.$route.name&&"register"!=this.$route.name?this.$api.auth.getUserInfo().then((function(e){t.userInfo=e,t.userActivatedNo=0==e.activated,t.hidePage=!1,t.reLogin=!1})).catch((function(){t.$store.commit("SET_TOKEN",{}),0==t.reLogin&&(t.reLogin=!0,t.$api.auth.autoLogin()),t.hidePage=!t.network||!t.isLogin})):this.hidePage=!1},loadSetting:function(){this.isLogin&&this.$api.setting.all().then((function(){})).catch((function(){}))}}},C=x,S=(a("7c55"),Object(p["a"])(C,s,n,!1,null,null,null)),j=S.exports,T=(a("d3b7"),a("8c4f")),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth_page"},[a("router-view",{})],1)},$=[],O={data:function(){return{}},components:{},mounted:function(){},methods:{}},R=O,Q=(a("8ce7"),Object(p["a"])(R,P,$,!1,null,"36081c26",null)),q=Q.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{key:"login",staticClass:"form_box"},[t._m(0),a("a-form",{attrs:{form:t.form},on:{submit:t.handleSubmit}},[a("a-form-item",{staticClass:"password",attrs:{prop:"password","has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{initialValue:"",rules:[{required:!0,message:"请输入至少6位数密码!"}]}],expression:"[\n        'password',\n        {initialValue:'',rules: [{ required: true, message: '请输入至少6位数密码!' }]}\n      ]"}],attrs:{type:"password",size:"large",placeholder:"请输入密码"}},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),a("a-form-item",[a("a-button",{attrs:{type:"primary",size:"large","html-type":"submit"}},[t._v("登录")])],1),a("div",[a("a",{attrs:{size:"large",target:"_blank",href:this.$api.help.url.forgetpw}},[t._v("忘记密码？")])])],1)],1)},N=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wlogo"},[r("img",{attrs:{src:a("6758")}})])}],E={data:function(){return{form:this.$form.createForm(this)}},computed:{toURL:function(){return"undefined"!=typeof this.$route.query.redirect?this.$route.query.redirect:"/"}},created:function(){this.checkFirst(),"undefined"!=typeof this.$store.state.common.token.str&&this.$router.replace({path:this.toURL})},methods:{handleSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t,a){t?console.log(t):e.$api.auth.login({password:a.password,redirect:e.toURL})}))},checkFirst:function(){var t=this;this.$api.auth.checkFirst().then((function(e){e&&t.$router.replace({path:"/auth/register",query:{redirect:t.$router.currentRoute.fullPath}})}))}}},U=E,F=Object(p["a"])(U,I,N,!1,null,"1f1e5bc6",null),L=F.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{key:"reg",staticClass:"form_box"},[t._m(0),a("a-form",{attrs:{form:t.form},on:{submit:t.handleSubmit}},[a("a-form-item",{staticClass:"password",attrs:{prop:"password1"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password1",{rules:[{required:!0,message:"请输入至少6位数密码!!"},{validator:t.validateToNextPassword}]}],expression:"[\n        'password1',\n        {\n          rules: [\n            {\n              required: true,\n              message: '请输入至少6位数密码!!',\n            },\n            {\n              validator: validateToNextPassword,\n            },\n          ],\n        },\n      ]"}],attrs:{size:"large",placeholder:"请输入密码",type:"password"}},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),a("a-form-item",{staticClass:"password",attrs:{prop:"password2"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password2",{rules:[{required:!0,message:"请确认您的密码!"},{validator:t.compareToFirstPassword}]}],expression:"[\n        'password2',\n        {\n          rules: [\n            {\n              required: true,\n              message: '请确认您的密码!',\n            },\n            {\n              validator: compareToFirstPassword,\n            },\n          ],\n        },\n      ]"}],attrs:{size:"large",placeholder:"请确认密码",type:"password"},on:{blur:t.handleConfirmBlur}},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),a("a-form-item",[a("a-button",{attrs:{type:"primary",size:"large","html-type":"submit"}},[t._v("立即激活")])],1),a("a",{attrs:{size:"large",target:"_blank",href:this.$api.help.url.regsiter}},[t._v("无法激活？")])],1)],1)},A=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wlogo"},[r("img",{attrs:{src:a("6758")}})])}],K={data:function(){return{form:this.$form.createForm(this,{name:"register"}),confirmDirty:!1}},methods:{handleSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFieldsAndScroll((function(t,a){t||e.$api.auth.register({password1:a.password1,password2:a.password2})}))},handleConfirmBlur:function(t){var e=t.target.value;this.confirmDirty=this.confirmDirty||!!e},compareToFirstPassword:function(t,e,a){var r=this.form;e&&e!==r.getFieldValue("password1")?a("您输入的两个密码不一致！"):a()},validateToNextPassword:function(t,e,a){var r=this.form;e&&this.confirmDirty&&r.validateFields(["password2"],{force:!0}),a()}}},V=K,D=Object(p["a"])(V,M,A,!1,null,"e9050fb2",null),z=D.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"guide_page"},[a("div",{staticClass:"step_box"},[a(t.stepComponent,{ref:"comp",tag:"component",attrs:{sub:t.stepComponentSub}})],1),a("div",{staticClass:"mbm step_btn"},[a("a-button",{staticClass:"mbm mrm",attrs:{type:"default"},on:{click:t.toPrev}},[t._v(t._s(t.prevBtn))]),a("a-button",{staticClass:"mbm",attrs:{type:"primary"},on:{click:t.toNext}},[t._v(t._s(t.nextBtn))])],1)])},W=[],H=(a("4c53"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),G=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"first mbm"},[r("h4",{staticClass:"step_title"},[t._v("第一步，请按下图，连接好您的SIM扩展板和树莓派：")]),r("div",{staticClass:"sim"},[r("p",[t._v("当前暂时仅支持微雪SIM7600系列扩展板，如需其他方案请关注"),r("a",{attrs:{href:"//ai.iqiar.com/?from=QiarAI",target:"_blank"}},[t._v("QiarAI官网")]),t._v("更新。")]),r("img",{attrs:{src:a("02df")}})])])}],J={data:function(){return{formCheck:2}}},Y=J,X=(a("4853"),Object(p["a"])(Y,H,G,!1,null,"40e72820",null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"device mbm"},[a("a-form",{attrs:{layout:"inline",form:t.formSettings},on:{submit:function(e){return e.preventDefault(),t.submitSettings(e)}}},[a("h4",{staticClass:"step_title mbm"},[t._v("设备配置：")]),a("div",{staticClass:"label"},[t._v(" 串口设备号 "),a("a-button",{attrs:{type:"link",icon:"reload"},on:{click:t.handleListTTY}},[t._v(t._s(t.reloadBtn))])],1),a("div",{staticClass:"wrapper"},[a("a-form-item",[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["tty_call",{rules:[{required:!0,message:"通讯需要，这里不能为空哦！"}]}],expression:"[\n        'tty_call',\n        { rules: [{ required: true, message: '通讯需要，这里不能为空哦！' }] },\n        ]"}],staticClass:"talk_input mrm",staticStyle:{width:"300px"},attrs:{dataSource:t.dataSource.call,placeholder:"请选择或输入您的串口设备号"},on:{blur:t.handleCheckForm}},[a("a-input",[a("a-popover",{attrs:{slot:"suffix",title:"帮助提示"},slot:"suffix"},[a("template",{slot:"content"},[t._v(" 此处填写您的扩展板与主板连接时所使用的串口设备号， "),a("a",{attrs:{target:"_blank",href:"//ai.iqiar.com/help?form=QiarAI"}},[t._v("点此查看详情")])]),a("a-icon",{attrs:{type:t.icon[t.test.ttyCall].type,theme:"twoTone",twoToneColor:t.icon[t.test.ttyCall].color}})],2)],1)],1)],1)],1),a("div",{staticClass:"label"},[t._v("USB音频端口号")]),a("div",{staticClass:"wrapper"},[a("a-form-item",[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["tty_usb",{rules:[{required:!0,message:"通讯需要，这里不能为空哦！"}]}],expression:"[\n        'tty_usb',\n        { rules: [{ required: true, message: '通讯需要，这里不能为空哦！' }] },\n        ]"}],staticClass:"talk_input mrm",staticStyle:{width:"300px"},attrs:{dataSource:t.dataSource.usb,placeholder:"请选择或输入您的音频USB端口号"},on:{blur:t.handleCheckForm}},[a("a-input",[a("a-popover",{attrs:{slot:"suffix",title:"帮助提示"},slot:"suffix"},[a("template",{slot:"content"},[t._v(" 此处填写您的扩展板与主板连接的USB端口号， "),a("a",{attrs:{target:"_blank",href:"//ai.iqiar.com/help?form=QiarAI"}},[t._v("点此查看详情")])]),a("a-icon",{attrs:{type:t.icon[t.test.ttyUSB].type,theme:"twoTone",twoToneColor:t.icon[t.test.ttyUSB].color}})],2)],1)],1)],1)],1),"undefined"==typeof t.sub?a("div",{staticClass:"mts"},[a("a-form-item",[a("a-button",{staticClass:"mbm",attrs:{type:"primary","html-type":"submit"}},[t._v("立即修改")])],1)],1):t._e()])],1)},et=[],at=(a("4160"),a("a9e3"),a("159b"),{data:function(){var t={xs:{span:5},sm:{span:5}},e={xs:{span:24},sm:{span:12}};return{formItemLayout:{labelCol:t,wrapperCol:e},buttonCol:{xs:{offset:t.xs.span},sm:{offset:t.sm.span}},dataSource:{call:["/dev/ttyAMA0","/dev/ttyS0"],usb:["/dev/ttyUSB1","/dev/ttyUSB2","/dev/ttyUSB3","/dev/ttyUSB4"]},tty:{call:"",usb:""},test:{ttyCall:2,ttyUSB:2},icon:[{type:"check-circle",color:"#06b400"},{type:"api",color:"#ff0000"},{type:"question-circle",color:"#ccc"}],formCheck:2,reloadBtn:"刷新"}},props:{sub:Number},created:function(){var t=this,e=this.$store.state.common.setting;"undefined"!=typeof e.tty_call&&(this.tty.call=e.tty_call),"undefined"!=typeof e.tty_usb&&(this.tty.usb=e.tty_usb),this.formSettings=this.$form.createForm(this,{name:"form_settings",mapPropsToFields:function(){return{tty_call:t.$form.createFormField({value:t.tty.call}),tty_usb:t.$form.createFormField({value:t.tty.usb})}}}),this.handleListTTY()},methods:{handleListTTY:function(){var t=this;this.reloadBtn="正在检查...",this.$api.setting.getTTYList().then((function(e){null==e.serial||null==e.usb?t.$message.error("未发现设备，请检查主板接口！"):(t.dataSource.call=[],t.dataSource.usb=[],e.serial.forEach((function(e){t.dataSource.call.push(e.Name)})),e.usb.forEach((function(e){t.dataSource.usb.push(e.Name)})))})).catch((function(){t.$message.error("出错了！请检查接口")})),this.reloadBtn="刷新"},submitSettings:function(){var t=this;this.formSettings.validateFields((function(e,a){e?t.formCheck=1:t.$api.setting.setList([{key:"tty_call",value:a.tty_call},{key:"tty_usb",value:a.tty_usb}]).then((function(){t.$message.info("设置已经生效！")})).catch((function(t){console.log(t)}))}))},handleCheckForm:function(){var t=this,e=this.formSettings.getFieldsValue(),a=[];"undefined"!=typeof e.tty_call&&a.push({key:"tty_call",value:e.tty_call}),"undefined"!=typeof e.tty_usb&&a.push({key:"tty_usb",value:e.tty_usb}),this.$api.test.checkSetList(a).then((function(e){e.tty_call&&(t.test.ttyCall=0),e.tty_usb&&(t.test.ttyUSB=0),e.tty_call&&e.tty_usb&&(t.formCheck=0)})).catch((function(e){1201==e.data.error&&(t.test.ttyCall=1),1202==e.data.error&&(t.test.ttyUSB=1),t.formCheck=1}))}}}),rt=at,st=Object(p["a"])(rt,tt,et,!1,null,"0309b066",null),nt=st.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cloud mbm"},[a("a-form",{attrs:{layout:"inline",form:t.formSettings},on:{submit:function(e){return e.preventDefault(),t.submitSettings(e)}}},[1==t.sub||"undefined"==typeof t.sub?a("div",[a("h4",{staticClass:"step_title mbm"},[t._v("云服务配置")]),a("div",{staticClass:"label"},[t._v("accessKeyId：")]),a("div",{staticClass:"wrapper mbs"},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["aliyun_ak_id",{rules:[{required:!0,message:"这里不能为空哦！"}]}],expression:"['aliyun_ak_id',{ rules: [{ required: true, message: '这里不能为空哦！' }] }]"}],staticClass:"talk_input mrm",staticStyle:{width:"350px"},attrs:{placeholder:"请输入阿里云accessKeyId"},on:{blur:t.handleCheckAliyun}},[a("a-popover",{attrs:{slot:"suffix",title:"帮助提示"},slot:"suffix"},[a("template",{slot:"content"},[t._v(" 此处填写阿里云API的密钥KeyId， "),a("a",{attrs:{target:"_blank",href:this.$api.help.url.redirect+"?to=aliyunKey"}},[t._v("点此获取")])]),a("a-icon",{attrs:{type:t.icon[t.test.aliyunAccess].type,theme:"twoTone",twoToneColor:t.icon[t.test.aliyunAccess].color}})],2)],1)],1)],1),a("div",{staticClass:"label"},[t._v("accessKeySecret：")]),a("div",{staticClass:"wrapper mbs"},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["aliyun_ak_secret",{rules:[{required:!0,message:"这里不能为空哦！"}]}],expression:"['aliyun_ak_secret',{ rules: [{ required: true, message: '这里不能为空哦！' }] }]"}],staticClass:"talk_input mrm",staticStyle:{width:"350px"},attrs:{placeholder:"请输入阿里云accessKeySecret"},on:{blur:t.handleCheckAliyun}},[a("a-popover",{attrs:{slot:"suffix",title:"帮助提示"},slot:"suffix"},[a("template",{slot:"content"},[t._v(" 此处填写阿里云API的密钥KeySecret， "),a("a",{attrs:{target:"_blank",href:this.$api.help.url.redirect+"?to=aliyunKey"}},[t._v("点此获取")])]),a("a-icon",{attrs:{type:t.icon[t.test.aliyunAccess].type,theme:"twoTone",twoToneColor:t.icon[t.test.aliyunAccess].color}})],2)],1)],1)],1),a("div",{staticClass:"label"},[t._v("智能语音交互服务AppKey：")]),a("div",{staticClass:"wrapper mbs"},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["aliyun_isi_appkey",{rules:[{required:!0,message:"这里不能为空哦！"}]}],expression:"['aliyun_isi_appkey',{ rules: [{ required: true, message: '这里不能为空哦！' }] }]"}],staticClass:"talk_input mrm",staticStyle:{width:"350px"},attrs:{placeholder:"请输入阿里云智能语音交互服务AppKey"},on:{blur:t.handleCheckAliyun}},[a("a-popover",{attrs:{slot:"suffix",title:"帮助提示"},slot:"suffix"},[a("template",{slot:"content"},[t._v(" 此处填写阿里云智能语音交互服务的Appkey， "),a("a",{attrs:{target:"_blank",href:this.$api.help.url.redirect+"?to=nls"}},[t._v("点此获取")])]),a("a-icon",{attrs:{type:t.icon[t.test.aliyunISIAppKey].type,theme:"twoTone",twoToneColor:t.icon[t.test.aliyunISIAppKey].color}})],2)],1)],1)],1),a("div",{staticClass:"mbm"},[a("div",{staticClass:"wrapper"},[a("a-checkbox",{attrs:{checked:t.upload_oss?"checked":""},on:{change:t.checkedUpload}},[t._v("上传完整录音到OSS，执行更准确的云端分析")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.upload_oss,expression:"upload_oss"}],staticClass:"wrapper"},[a("a-form-item",[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["aliyun_bucket_name",{rules:[]}],expression:"['aliyun_bucket_name',{ rules: [] }]"}],staticClass:"talk_input mrm",staticStyle:{width:"350px"},attrs:{dataSource:t.dataSource.oss,placeholder:"请输入阿里云OSS云存储Bucket域名"},on:{focus:t.handleListOSS,blur:t.handleCheckAliyun,select:t.handleCheckAliyun}},[a("a-input",[a("a-popover",{attrs:{slot:"suffix",title:"帮助提示"},slot:"suffix"},[a("template",{slot:"content"},[t._v(" 此处填写阿里云OSS的Bucket域名， "),a("a",{attrs:{target:"_blank",href:this.$api.help.url.redirect+"?to=oss"}},[t._v("点此获取")])]),a("a-icon",{attrs:{type:t.icon[t.test.aliyunOSS].type,theme:"twoTone",twoToneColor:t.icon[t.test.aliyunOSS].color}})],2)],1)],1)],1)],1)])]):t._e(),2==t.sub||"undefined"==typeof t.sub?a("div",[a("h4",{staticClass:"step_title mbm"},[t._v("个性化设置：")]),a("div",{staticClass:"label"},[t._v("选择自己喜欢的发音")]),a("div",{staticClass:"wrapper"},[a("a-form-item",[a("a-select",{staticStyle:{width:"350px"},attrs:{optionFilterProp:"children"},model:{value:t.tts_voice,callback:function(e){t.tts_voice=e},expression:"tts_voice"}},t._l(t.listTTS,(function(e){return a("a-select-option",{key:e.Value,attrs:{value:e.Value}},[t._v(t._s(e.Name)+" - "+t._s(e.Type)+" - "+t._s(e.Note))])})),1)],1)],1),a("div",{staticClass:"wrapper"},[a("a-form-item",{attrs:{label:"语速"}},[a("a-row",[a("a-col",{attrs:{span:20}},[a("a-slider",{staticStyle:{width:"300px"},attrs:{min:-500,max:500},model:{value:t.tts_speech,callback:function(e){t.tts_speech=e},expression:"tts_speech"}})],1),a("a-col",{attrs:{span:4}},[a("a-input-number",{staticStyle:{width:"70px"},attrs:{min:-500,max:500},model:{value:t.tts_speech,callback:function(e){t.tts_speech=e},expression:"tts_speech"}})],1)],1)],1)],1),a("div",{staticClass:"wrapper"},[a("a-form-item",{attrs:{label:"语调"}},[a("a-row",[a("a-col",{attrs:{span:20}},[a("a-slider",{staticStyle:{width:"300px"},attrs:{min:-500,max:500},model:{value:t.tts_pitch,callback:function(e){t.tts_pitch=e},expression:"tts_pitch"}})],1),a("a-col",{attrs:{span:4}},[a("a-input-number",{staticStyle:{width:"70px"},attrs:{min:-500,max:500},model:{value:t.tts_pitch,callback:function(e){t.tts_pitch=e},expression:"tts_pitch"}})],1)],1)],1)],1),a("div",[a("a-form-item",{attrs:{label:"音量"}},[a("a-row",[a("a-col",{attrs:{span:20}},[a("a-slider",{staticStyle:{width:"300px"},attrs:{min:-500,max:500},model:{value:t.tts_volume,callback:function(e){t.tts_volume=e},expression:"tts_volume"}})],1),a("a-col",{attrs:{span:4}},[a("a-input-number",{staticStyle:{width:"70px"},attrs:{min:-500,max:500},model:{value:t.tts_volume,callback:function(e){t.tts_volume=e},expression:"tts_volume"}})],1)],1)],1)],1)]):t._e(),2==t.sub||"undefined"==typeof t.sub?a("div",{staticClass:"wrapper"},[a("a-form-item",[a("a-popconfirm",{attrs:{placement:"topLeft",okText:"修改",cancelText:"取消"},on:{confirm:t.setTextTTS}},[a("template",{slot:"title"},[a("a-textarea",{attrs:{placeholder:"请输入您想要转成语音的文本内容",autosize:{minRows:2,maxRows:6}},model:{value:t.tts_test,callback:function(e){t.tts_test=e},expression:"tts_test"}})],1),a("a-input",{staticClass:"tts_test",attrs:{value:t.tts_test}})],2)],1),a("a-form-item",[a("a-button",{attrs:{type:"dashed",icon:"sound"},on:{click:t.handleTestTTS}},[t._v("试听")])],1),t.sound?a("div",{staticClass:"wav_player mbm"},[a("audio",{staticClass:"audio",attrs:{src:t.sound,autoplay:"",controls:""}})]):t._e()],1):t._e(),"undefined"==typeof t.sub?a("div",{staticClass:"mts"},[a("a-form-item",[a("a-button",{staticClass:"mbm",attrs:{type:"primary","html-type":"submit"}},[t._v("立即修改")])],1)],1):t._e()])],1)},ot=[],ct={data:function(){var t={xs:{span:5},sm:{span:5}},e={xs:{span:24},sm:{span:12}};return{formItemLayout:{labelCol:t,wrapperCol:e},buttonCol:{xs:{offset:t.xs.span},sm:{offset:t.sm.span}},dataSource:{oss:[],tts:[]},listTTS:[],sound:"",aliyun:{ak_id:"",ak_secret:"",isi_appkey:""},upload_oss:!1,tts_voice:"Xiaoyun",tts_speech:0,tts_pitch:0,tts_volume:0,tts_test:"您好，欢迎使用智能语音助手！",test:{aliyunAccess:2,aliyunISIAppKey:2,aliyunOSS:2,aliyunTTS:2},icon:[{type:"check-circle",color:"#06b400"},{type:"exclamation-circle",color:"#ff0000"},{type:"question-circle",color:"#ccc"}],formCheck:2}},props:{sub:Number},created:function(){this.getValue()},watch:{$route:function(){this.getValue()}},methods:{getValue:function(){var t=this,e=this.$store.state.common.setting;"undefined"!=typeof e.aliyun_ak_id&&(this.aliyun.ak_id=e.aliyun_ak_id),"undefined"!=typeof e.aliyun_ak_secret&&(this.aliyun.ak_secret=e.aliyun_ak_secret),"undefined"!=typeof e.aliyun_isi_appkey&&(this.aliyun.isi_appkey=e.aliyun_isi_appkey),"undefined"!=typeof e.aliyun_bucket_name&&(this.aliyun.bucket_name=e.aliyun_bucket_name),"undefined"!=typeof e.upload_oss&&(this.upload_oss=e.upload_oss),"undefined"!=typeof e.tts_voice&&(this.tts_voice=e.tts_voice),"undefined"!=typeof e.tts_speech&&(this.tts_speech=parseInt(e.tts_speech)),"undefined"!=typeof e.tts_pitch&&(this.tts_pitch=parseInt(e.tts_pitch)),"undefined"!=typeof e.tts_volume&&(this.tts_volume=parseInt(e.tts_volume)),"undefined"!=typeof e.tts_test&&(this.tts_test=parseInt(e.tts_test)),this.formSettings=this.$form.createForm(this,{name:"form_settings",mapPropsToFields:function(){return{aliyun_ak_id:t.$form.createFormField({value:t.aliyun.ak_id}),aliyun_ak_secret:t.$form.createFormField({value:t.aliyun.ak_secret}),aliyun_isi_appkey:t.$form.createFormField({value:t.aliyun.isi_appkey}),aliyun_bucket_name:t.$form.createFormField({value:t.aliyun.bucket_name}),tts_test:t.$form.createFormField({value:t.tts_test})}}}),1==this.sub&&(this.formCheck=2),2==this.sub&&(this.formCheck=0),"undefined"!=typeof sub&&2!=this.sub||this.$api.setting.getTTSList().then((function(e){t.listTTS=e}))},formToData:function(t,e){var a=[],r=this.$store.state.common.setting;return"undefined"!=e&&(e=!0),"undefined"!=typeof t.aliyun_ak_id?a.push({key:"aliyun_ak_id",value:t.aliyun_ak_id}):e&&a.push({key:"aliyun_ak_id",value:r.aliyun_ak_id}),"undefined"!=typeof t.aliyun_ak_secret?a.push({key:"aliyun_ak_secret",value:t.aliyun_ak_secret}):e&&a.push({key:"aliyun_ak_secret",value:r.aliyun_ak_secret}),"undefined"!=typeof t.aliyun_isi_appkey?a.push({key:"aliyun_isi_appkey",value:t.aliyun_isi_appkey}):e&&a.push({key:"aliyun_isi_appkey",value:r.aliyun_isi_appkey}),"undefined"!=typeof t.aliyun_bucket_name&&a.push({key:"aliyun_bucket_name",value:t.aliyun_bucket_name}),1!=this.sub&&"undefined"!=typeof this.sub||a.push({key:"upload_oss",value:this.upload_oss?"true":"false"}),2!=this.sub&&"undefined"!=typeof this.sub||(a.push({key:"tts_voice",value:this.tts_voice}),a.push({key:"tts_speech",value:this.tts_speech.toString()}),a.push({key:"tts_pitch",value:this.tts_pitch.toString()}),a.push({key:"tts_volume",value:this.tts_volume.toString()})),a},submitSettings:function(){var t=this;this.formSettings.validateFields((function(e,a){if(e)t.formCheck=1;else{var r=t.formToData(a);t.$api.setting.setList(r).then((function(){t.$message.info("设置已经生效！")})).catch((function(t){console.log(t)}))}}))},checkedUpload:function(){this.upload_oss=!this.upload_oss},handleCheckAliyun:function(){var t=this,e=this.formSettings.getFieldsValue(),a=this.formToData(e);this.$api.test.checkSetList(a).then((function(e){e.aliyun_ak_secret&&(t.test.aliyunAccess=0),e.aliyun_isi_appkey&&(t.test.aliyunISIAppKey=0),e.aliyun_bucket_name&&(t.test.aliyunOSS=0),e.aliyun_ak_secret&&e.aliyun_isi_appkey&&e.aliyun_bucket_name&&(t.formCheck=0)})).catch((function(e){1301==e.data.error&&(t.test.aliyunAccess=1),1302==e.data.error&&(t.test.aliyunISIAppKey=1),1303==e.data.error&&(t.test.aliyunOSS=1),t.formCheck=1}))},handleListOSS:function(){var t=this;if(0==this.test.aliyunAccess){var e=this.formSettings.getFieldsValue(),a=[];"undefined"!=typeof e.aliyun_ak_id&&"undefined"!=typeof e.aliyun_ak_secret&&(a.push({key:"aliyun_ak_id",value:e.aliyun_ak_id}),a.push({key:"aliyun_ak_secret",value:e.aliyun_ak_secret}),this.$api.setting.getOSSList(a).then((function(e){t.dataSource.oss=[],e.forEach((function(e){t.dataSource.oss.push(e.Name+"."+e.Location+".aliyuncs.com")}))})))}},handleTestTTS:function(t){var e=this,a=t.target.innerHTML;t.target.textContent="生成中...";var r=this.formSettings.getFieldsValue(),s=this.formToData(r,!0);s.push({key:"tts_test",value:this.tts_test}),this.$api.test.checkSetList(s).then((function(r){e.sound=r.wav+"?t="+Date.parse(new Date),t.target.innerHTML=a}))},setTextTTS:function(){var t=JSON.parse(JSON.stringify(this.$store.state.common.setting));t["tts_test"]=this.tts_test,this.$store.commit("SETTING",t)}}},ut=ct,lt=(a("84f2"),Object(p["a"])(ut,it,ot,!1,null,"9c482e2c",null)),dt=lt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"whom mbm bt_line"},[a("h4",{staticClass:"step_title mbm"},[t._v("第二步，别人怎么称呼我：")]),a("div",{staticClass:"mbm"},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.showModalUser({},e)}}},[a("a-icon",{attrs:{type:"user-add"}}),t._v(" 新增用户")],1)],1),a("a-tabs",{attrs:{type:"editable-card",hideAdd:"",size:"small"},on:{edit:t.onEdit},model:{value:t.activeKey,callback:function(e){t.activeKey=e},expression:"activeKey"}},t._l(t.panes,(function(e,r){return a("a-tab-pane",{key:e.key,attrs:{tab:e.title,closable:e.closable}},[a("p",[t._v(t._s(e.content))]),a("div",{staticClass:"mbm"},[t._l(e.tags,(function(r){return[r.call&&r.call.length>10?a("a-tag",{key:r.id,attrs:{closable:!0,afterClose:function(){return t.handleClose(e.key,r)}}},[t._v(t._s(r.call.slice(0,10)+"..."))]):a("a-tag",{key:r.id,attrs:{closable:!0,afterClose:function(){return t.handleClose(e.key,r)}}},[t._v(t._s(r.call))])]})),e.inputVisible?a("a-input",{ref:"inputTag_"+r,refInFor:!0,style:{width:"78px"},attrs:{type:"text",size:"small",value:e.inputValue},on:{change:function(e){return t.handleInputTagChange(r,e)},blur:function(a){return t.handleInputTagConfirm(e,a)},keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.handleInputTagConfirm(e,a)}}}):a("a-tag",{staticStyle:{background:"#fff",borderStyle:"dashed"},on:{click:function(e){return t.showInput(r,e)}}},[a("a-icon",{attrs:{type:"plus"}}),t._v("新增称呼 ")],1)],2),a("div",{staticClass:"edit_user_btn"},[""!=e.tel?[a("span",{staticClass:"push_ok mrs"},[a("a-icon",{attrs:{type:"notification"}}),t._v(" 当前已经开启通知 ["+t._s(t.formatPhone(e.tel))+"] ")],1)]:[a("span",{staticClass:"push_no mrs"},[t._v("当前未开启通知")])],a("a",{on:{click:function(a){return t.showModalUser(e,a)}}},[a("a-icon",{attrs:{type:"setting"}}),t._v(" 设置")],1)],2)])})),1),a("a-modal",{attrs:{title:t.modalUserTitle,visible:t.visibleUser,confirmLoading:t.loadingUser,footer:null,mask:!0,maskClosable:!1},on:{ok:t.submitUser,cancel:t.cancelUser}},[a("a-form",{attrs:{form:t.formUser},on:{submit:t.submitUser}},[a("a-form-item",{attrs:{label:"用户标识","label-col":{span:5},"wrapper-col":{span:12},extra:""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{rules:[{required:!0,message:"必须输入用户标识！"}]}],expression:"['title',{ rules: [{ required: true, message: '必须输入用户标识！' }] }]"}],staticClass:"talk_input mrm",staticStyle:{width:"160px"},attrs:{placeholder:"如：“老婆”，“老王”。"}})],1),a("a-form-item",{attrs:{label:"手机号码","label-col":{span:5},"wrapper-col":{span:12},extra:"用于收取设备发出的短信通知"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["tel",{rules:[{pattern:new RegExp("((\\d{3,4})|\\d{3,4}-|\\s)?\\d{7,14}"),message:"请输入正确的手机格式！"}]}],expression:"['tel',{ rules: [{ pattern:new RegExp('(\\(\\\\d{3,4}\\)|\\\\d{3,4}-|\\\\s)?\\\\d{7,14}'), message: '请输入正确的手机格式！' }] }]"}],staticClass:"talk_input mrm",staticStyle:{width:"220px"},attrs:{placeholder:"请输入可以接收短信的手机号"}})],1),t.editUser.vUid?a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[a("a-button",{staticClass:"mbm",attrs:{type:"primary","html-type":"submit"}},[t._v("立即修改")])],1):a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[a("a-button",{staticClass:"mbm",attrs:{type:"primary","html-type":"submit"}},[t._v("立即新增")])],1)],1)],1)],1)},mt=[],ft=(a("99af"),a("4de4"),a("c975"),a("d0ff")),ht=(a("96cf"),a("c964")),vt={data:function(){var t=[],e={vKey:0,vUid:0,vTitle:"",vTel:""};return{formUser:this.$form.createForm(this,{name:"form_user"}),activeKey:0,panes:t,editUser:e,newTabIndex:0,visibleUser:!1,loadingUser:!1,modalUserTitle:""}},computed:{formCheck:function(){return this.panes.length>0&&this.panes[0].tags.length>0?0:1}},mounted:function(){this.loadUser()},methods:{onEdit:function(t,e){this[e](t)},newPane:function(t,e){return"undefined"==typeof t.username&&(t.username="用户".concat(e)),{key:e,title:0===e?"我自己":t.username,content:0===e?"请在下方填写陌生来电对您的常用称呼，如赵总，钱先生，孙小姐，李哥...":"用于朋友或家人共享一台设备，请输入主叫方对他的常用称呼...",closable:0!==e,tags:t.call,inputVisible:!1,inputValue:"",tel:t.tel,uid:t.uid}},add:function(t){var e=this.panes,a=e.length;e.push(this.newPane(t,a)),this.panes=e,this.activeKey=a,this.editUser.vTitle=""},remove:function(t){var e=this;this.$confirm({title:"您确认要删除这个用户吗?",content:"注意，删除操作将清空所有称呼，且不可找回。",okType:"danger",onOk:function(){var a,r=e.activeKey,s=0;e.panes.forEach((function(e,r){e.key===t&&(a=r-1,s=e.uid)})),parseInt(s)>0&&e.$api.talk.delUser({uid:s}).then((function(){var s=e.panes.filter((function(e){return e.key!==t}));s.length&&r===t&&(r=a>=0?s[a].key:s[0].key),e.panes=s,e.activeKey=r}))},onCancel:function(){}})},showModalUserOk:function(t){this.visibleUser=!0,"undefined"!=typeof t.uid?(this.modalUserTitle="修改用户",this.editUser.vKey=t.key,this.editUser.vUid=t.uid,this.editUser.vTitle=t.title,this.editUser.vTel=t.tel):(this.modalUserTitle="新增用户",this.editUser.vKey=this.panes.length,this.editUser.vUid=0,this.editUser.vTitle="",this.editUser.vTel=""),this.$nextTick((function(){this.formUser.setFieldsValue({title:this.editUser.vTitle,tel:this.editUser.vTel})}))},showModalUser:function(t){var e=this;this.panes.length>=5?this.$confirm({title:"注意，超载了！",content:"您已经新增了5名用户，新增太多人会造成识别不准确，而且非常不建议您将当前设备部上的呼转号码告知太多人。",okText:"仍要继续",cancelText:"取消",okType:"danger",onOk:function(){e.showModalUserOk(t)},onCancel:function(){}}):this.showModalUserOk(t)},cancelUser:function(){this.visibleUser=!1},submitUser:function(t){var e=this;t.preventDefault(),this.formUser.validateFields((function(t,a){if(!t){var r=e.editUser.vKey,s=e.editUser.vUid;e.$api.talk.addOrUpdateUser({uid:s?parseInt(s):0,username:a.title,tel:a.tel}).then((function(t){e.editUser.vUid=t.uid,s>0?e.panes[r]=e.newPane(t,r):e.add(t),e.visibleUser=!1})).catch((function(t){console.log(t)}))}}))},loadUser:function(){var t=this;this.$api.talk.getUserList().then((function(e){var a=[];e.forEach((function(e,r){a.push(t.newPane(e,r))})),t.activeKey=0,t.panes=a})).catch((function(t){console.log(t)}))},handleClose:function(t,e){var a=this,r=e.id;parseInt(r)>0&&a.$api.talk.delCall({id:r}).then((function(r){if(r){var s=a.panes[t].tags.filter((function(t){return t.id!==e.id}));a.panes[t].tags=s}})).catch((function(t){console.log(t)}))},showInput:function(t){this.panes[t].inputVisible=!0,this.$nextTick((function(){this.$refs["inputTag_"+t][0].focus()}))},handleInputTagChange:function(t,e){this.panes[t].inputValue=e.target.value},handleInputTagConfirm:function(t){var e=this;return Object(ht["a"])(regeneratorRuntime.mark((function a(){var r,s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.panes[t.key].inputValue,s=e.panes[t.key].tags,n=t.uid,!r||-1!==s.indexOf(r)){a.next=6;break}return a.next=6,e.$api.talk.addCall({uid:n?parseInt(n):0,call:r}).then((function(t){s=[].concat(Object(ft["a"])(s),[{call:t.call,id:t.id}])})).catch((function(t){console.log(t)}));case 6:Object.assign(e.panes[t.key],{tags:s,inputVisible:!1,inputValue:""});case 7:case"end":return a.stop()}}),a)})))()},formatPhone:function(t){return w.formatPhone(t)}}},bt=vt,yt=(a("8a66"),Object(p["a"])(bt,pt,mt,!1,null,"776ea1ee",null)),gt=yt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"intent mbm"},[a("h4",{staticClass:"step_title mbm"},[t._v("第三步，来电意图和闲聊处理：")]),a("a-tabs",{attrs:{type:"card"}},[a("a-tab-pane",{key:"1",attrs:{tab:"3.1 来电意图分类"}},[a("div",{staticClass:"mbm"},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.showModalSid({},0,e)}}},[a("a-icon",{attrs:{type:"folder-add"}}),t._v("新增分类 ")],1)],1),a("a-row",{attrs:{gutter:16}},t._l(t.cards,(function(e,r){return a("a-col",{key:r,staticClass:"mbm",attrs:{span:24/t.rows}},[a("div",{class:t.classCardBox(r,t.cards.length),on:{mouseover:function(e){return t.actionTop(e,!0)},mouseout:function(e){return t.actionTop(e,!1)}}},[a("a-card",[a("a",{attrs:{slot:"extra"},on:{click:function(a){return t.showModalSid(e,r,a)}},slot:"extra"},[a("a-tooltip",{attrs:{title:"挂断语音："+e.policy.title}},[a("a-icon",{attrs:{type:"setting"}}),t._v("设置")],1)],1),a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))]),a("div",{staticClass:"queries"},[a("a-row",{attrs:{gutter:10}},t._l(e.queries,(function(s,n){return a("a-col",{key:n,attrs:{lg:24,xl:12}},[a("a",{staticClass:"mrs",on:{click:function(a){return t.showModalQuery(s,n,e,r,a)}}},[t._v(t._s(t.stringOr(s.query)))]),a("span",{staticClass:"answer"},[t._v(t._s(t.stringOr(s.answer)))])])})),1)],1),a("div",{staticClass:"add_query_btn"},[a("a",{on:{click:function(a){return t.showModalQuery({},0,e,r,a)}}},[t._v("+新增关键词匹配")])])])],1)])})),1)],1),a("a-tab-pane",{key:"2",attrs:{tab:"3.2 闲聊处理"}},[a("div",{staticClass:"queries"},[a("a-row",{attrs:{gutter:16}},t._l(t.hello.queries,(function(e,r){return a("a-col",{key:r,staticClass:"mbm",attrs:{xs:24,sm:12,md:6,lg:4,xl:4}},[a("a",{staticClass:"mrs",on:{click:function(a){return t.showModalQuery(e,r,t.hello,0,a)}}},[t._v(t._s(t.stringOr(e.query)))]),a("span",{staticClass:"answer"},[t._v(t._s(t.stringOr(e.answer)))])])})),1)],1),a("div",{staticClass:"add_query_btn mbm"},[a("a",{on:{click:function(e){return t.showModalQuery({},0,t.hello,0,e)}}},[t._v("+新增关键词匹配")])])])],1),a("a-modal",{attrs:{title:t.modalSidTitle,visible:t.visibleSid,confirmLoading:t.loadingSid,footer:null,mask:!0,maskClosable:!1},on:{ok:t.submitSid,cancel:t.cancelSid}},[a("a-form",{attrs:{form:t.formSid},on:{submit:t.submitSid}},[a("a-form-item",{attrs:{label:"分类名称","label-col":{span:5},"wrapper-col":{span:12},extra:"建议按照行业分类命名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{rules:[{required:!0,message:"必须输入分类名称！"}]}],expression:"['title',{ rules: [{ required: true, message: '必须输入分类名称！' }] }]"}],staticClass:"talk_input mrm",staticStyle:{width:"120px"},attrs:{placeholder:"如：“房屋中介”，“贷款”。"}})],1),a("a-form-item",{attrs:{label:"挂断策略","label-col":{span:5},"wrapper-col":{span:19},extra:"可以选择已有的策略，或者直接输入要说的话。"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["end",{rules:[]}],expression:"['end',{ rules: [] }]"}],staticStyle:{width:"270px","margin-right":"10px"},attrs:{showSearch:"",placeholder:"请选择策略，或者输入要说的话",optionFilterProp:"children",filterOption:t.sidOption},on:{focus:t.sidFocus,blur:t.sidBlur,change:t.sidChange}},t._l(t.modalSidPolicy,(function(e,r){return a("a-select-option",{key:r,attrs:{value:e.id}},[t._v("[策略] "+t._s(e.title))])})),1),a("router-link",{attrs:{to:"/settings/end"}},[t._v("管理策略")])],1),a("a-form-item",{attrs:{label:"优先级排序","label-col":{span:5},"wrapper-col":{span:12}}},[a("div",{attrs:{slot:"extra"},slot:"extra"},[t._v("如果一通电话同时涉及了多个分类，则以优先级值最高的为最终分类结果。"),a("a",{attrs:{title:"查看更多帮助",target:"_blank",href:this.$api.help.url.intent}},[a("a-icon",{attrs:{type:"question-circle"}})],1)]),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["level",{rules:[{type:"number",transform:Number,message:"必须是数字哦！"}]}],expression:"['level',{ rules: [{ type: `number`,transform: Number, message: '必须是数字哦！' }] }]"}],staticClass:"talk_input mrm",staticStyle:{width:"90px"},attrs:{placeholder:"如：“50”"}})],1),t.editSid.vSid?a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[a("a-button",{staticClass:"mbm mrm",on:{click:function(e){return t.removeSid(t.editSid)}}},[t._v("删除")]),a("a-button",{staticClass:"mbm",attrs:{type:"primary","html-type":"submit"}},[t._v("立即修改")])],1):a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[a("a-button",{staticClass:"mbm",attrs:{type:"primary","html-type":"submit"}},[t._v("立即新增")])],1)],1)],1),a("a-modal",{attrs:{title:t.modalQueryTitle,visible:t.visibleQuery,confirmLoading:t.loadingQuery,footer:null,mask:!0,maskClosable:!1},on:{ok:t.submitQuery,cancel:t.cancelQuery}},[a("a-form",{staticClass:"form_query",attrs:{form:t.formQuery},on:{submit:t.submitQuery}},[a("a-form-item",{staticClass:"item_query",attrs:{label:"关键词匹配","label-col":{span:5},"wrapper-col":{span:12},extra:"请输入一个尽量简短的中文词"}},[1==t.editQuery.vMode?a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["query_kw",{initialValue:t.editQuery.vQueryKW,rules:[{required:!0,message:"必须输入一个中文关键词！"}]}],expression:"['query_kw',{initialValue:editQuery.vQueryKW, rules: [{ required: true, message: '必须输入一个中文关键词！' }] }]"}],staticClass:"talk_input mrm",staticStyle:{width:"230px"},attrs:{mode:"tags",tokenSeparators:["|","｜",",","，"],placeholder:"如：“出租”，可用“|”间隔多个。"}}):a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["query_re",{initialValue:t.editQuery.vQueryRE,rules:[{required:!0,message:"必须输入一个中文关键词！"}]}],expression:"['query_re',{ initialValue:editQuery.vQueryRE,rules: [{ required: true, message: '必须输入一个中文关键词！' }] }]"}],staticClass:"talk_input mrm",staticStyle:{width:"230px"},attrs:{placeholder:"如：“(出租*)”，当前可使用正则表达式。"}}),a("a-checkbox",{staticClass:"check_regexp",attrs:{checked:2==t.editQuery.vMode},on:{change:t.onRegexp}},[t._v("正则？")])],1),a("a-form-item",{attrs:{label:"应答话术","label-col":{span:5},"wrapper-col":{span:16},extra:"关键词匹配成功之后的应答语音，为空则沉默。"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["answer",{initialValue:t.editQuery.vAnswer,rules:[]}],expression:"['answer',{ initialValue:editQuery.vAnswer,rules: [] }]"}],staticClass:"talk_input mrm",staticStyle:{width:"300px"},attrs:{mode:"tags",tokenSeparators:["|","｜"],placeholder:"如：“不需要，谢谢”，可用“|”间隔多个。"}})],1),a("a-form-item",{attrs:{label:"权重分","label-col":{span:5},"wrapper-col":{span:12}}},[a("div",{attrs:{slot:"extra"},slot:"extra"},[t._v("匹配成功的多个关键词的“权重分”相加之和达到100分，则自动触发“挂断策略”。"),a("a",{attrs:{title:"查看更多帮助",target:"_blank",href:this.$api.help.url.intent}},[a("a-icon",{attrs:{type:"question-circle"}})],1)]),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["scores",{initialValue:t.editQuery.vScores,rules:[{type:"number",transform:Number,message:"必须是数字哦！"}]}],expression:"['scores',{ initialValue:editQuery.vScores,rules: [{ type: 'number',transform: Number, message: '必须是数字哦！' }] }]"}],staticClass:"talk_input mrm",staticStyle:{width:"90px"},attrs:{placeholder:"如：“50”"}})],1),t.editQuery.vId?a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[a("a-button",{staticClass:"mbm mrm",on:{click:function(e){return t.removeQuery(t.editQuery)}}},[t._v("删除")]),a("a-button",{staticClass:"mbm",attrs:{type:"primary","html-type":"submit"}},[t._v("立即修改")])],1):a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[a("a-button",{staticClass:"mbm",attrs:{type:"primary","html-type":"submit"}},[t._v("立即新增")])],1)],1)],1)],1)},kt=[],wt=(a("a15b"),a("a434"),a("1276"),{data:function(){var t={vKey:0,vSid:0,vLevel:0,vTitle:"",vEnd:""},e={vKey:0,vId:0,vSid:0,vScores:0,vQueryKW:[],vQueryRE:"",vAnswer:[],vHello:!1,vMode:0};return{rows:4,formQuery:this.$form.createForm(this,{name:"form_query"}),formSid:this.$form.createForm(this,{name:"form_sid"}),visibleQuery:!1,loadingQuery:!1,modalQueryTitle:"",editQuery:e,visibleSid:!1,loadingSid:!1,modalSidTitle:"",modalSidPolicy:[],editSid:t,cards:[],hello:{title:"闲聊",queries:[],policy:{}},sidTitle:["来电意图分类","闲聊处理"]}},computed:{formCheck:function(){return this.cards.length>0&&this.cards[0].queries.length>0?0:1}},mounted:function(){this.loadIntention()},methods:{newSid:function(t,e){return{key:e,title:t.title,queries:t.queries,policy:t.policy,sid:t.sid,level:t.level,end:t.end}},newQuery:function(t){return{id:t.id,sid:t.sid,query:t.query,answer:t.answer,scores:t.scores,mode:t.mode}},stringOr:function(t){return t.split(",").join("|")},loadIntention:function(){var t=this;this.$api.talk.getIntentionList().then((function(e){var a=[];e.forEach((function(e,r){e.hello?t.hello=e:a.push(t.newSid(e,r))})),a.sort((function(t,e){return e.level-t.level})),t.cards=a})).catch((function(t){console.log(t)}))},loadPolicy:function(){var t=this;this.$api.setting.getPolicyList().then((function(e){t.modalSidPolicy=[],e.forEach((function(e){t.modalSidPolicy.push({id:e.id.toString(),title:e.title})}))})).catch((function(t){console.log(t)}))},showModalSid:function(t,e){this.visibleSid=!0,this.editSid.vKey=e,"undefined"!=typeof t.sid?(this.modalSidTitle="修改-"+this.sidTitle[0],this.editSid.vSid=t.sid,this.editSid.vTitle=t.title,this.editSid.vEnd=t.end,this.editSid.vLevel=t.level):(this.modalSidTitle="新增-"+this.sidTitle[0],this.editSid.vSid=0,this.editSid.vTitle="",this.editSid.vEnd="",this.editSid.vLevel=0),this.loadPolicy(),this.$nextTick((function(){this.formSid.setFieldsValue({title:this.editSid.vTitle,end:this.editSid.vEnd,level:this.editSid.vLevel})}))},cancelSid:function(){this.visibleSid=!1},showModalQuery:function(t,e,a,r){this.visibleQuery=!0,this.editQuery.vKey=r,this.editQuery.vSid=a.sid,this.editQuery.vHello=a.hello,"undefined"!=typeof t.id?(this.modalQueryTitle="修改-"+a.title,this.editQuery.vId=t.id,this.editQuery.vScores=t.scores,this.editQuery.vQueryKW=t.query?t.query.split(","):[],this.editQuery.vQueryRE=t.query?t.query.toString():"",this.editQuery.vAnswer=t.answer?t.answer.split(","):[],this.editQuery.vMode=t.mode):(this.modalQueryTitle="新增-"+a.title,this.editQuery.vId=0,this.editQuery.vScores=a.hello?0:30,this.editQuery.vQueryKW=[],this.editQuery.vQueryRE="",this.editQuery.vAnswer=[],this.editQuery.vMode=1)},cancelQuery:function(){this.visibleQuery=!1,this.editQuery.vId>0&&this.$nextTick((function(){this.formQuery.resetFields()}))},sidChange:function(){},sidBlur:function(){},sidFocus:function(){},sidOption:function(t,e){return e.componentOptions.children[0].text.toLowerCase().indexOf(t.toLowerCase())>=0},onRegexp:function(){this.editQuery.vQueryKW=this.formQuery.getFieldValue("query_kw"),this.editQuery.vQueryRE=this.formQuery.getFieldValue("query_re"),this.editQuery.vMode=2==this.editQuery.vMode?1:2,1==this.editQuery.vMode?this.editQuery.vQueryKW=this.editQuery.vQueryRE?this.editQuery.vQueryRE.split(","):[]:this.editQuery.vQueryRE=this.editQuery.vQueryKW?this.editQuery.vQueryKW.toString():""},submitQuery:function(t){var e=this;t.preventDefault(),this.formQuery.validateFields((function(t,a){if(!t){var r,s=e.editQuery.vId,n=e.editQuery.vSid,i=e.editQuery.vKey,o=e.editQuery.vHello,c=e.editQuery.vMode;r=1==c?a.query_kw:a.query_re,e.$api.talk.addOrUpdateQuery({id:s?parseInt(s):0,sid:n?parseInt(n):0,query:r,answer:"undefined"==a.answer?"":a.answer,scores:a.scores?parseInt(a.scores):0,mode:c?parseInt(c):0}).then((function(t){e.editQuery.vId=t.id,o?(s>0&&e.hello.queries.forEach((function(t,a){s==t.id&&e.hello.queries.splice(a,1)})),e.hello.queries.push(e.newQuery(t)),e.hello.queries.sort((function(t,e){return e.scores-t.scores}))):(s>0&&e.cards[i].queries.forEach((function(t,a){s==t.id&&e.cards[i].queries.splice(a,1)})),e.cards[i].queries.push(e.newQuery(t)),e.cards[i].queries.sort((function(t,e){return e.scores-t.scores}))),e.$nextTick((function(){this.formQuery.resetFields()})),e.visibleQuery=!1})).catch((function(t){console.log(t)}))}}))},submitSid:function(t){var e=this;t.preventDefault(),this.formSid.validateFields((function(t,a){if(!t){var r=e.editSid.vSid,s=e.editSid.vKey;e.$api.talk.addOrUpdateIntention({sid:r?parseInt(r):0,title:a.title,end:a.end,level:parseInt(a.level)}).then((function(t){e.editSid.vSid=t.sid,r>0?(t.queries=e.cards[s].queries,e.cards[s]=e.newSid(t,s)):e.cards.push(e.newSid(t,e.cards.length)),e.cards.sort((function(t,e){return e.level-t.level})),e.visibleSid=!1})).catch((function(t){console.log(t)}))}}))},removeSid:function(t){var e=this;this.$confirm({title:"您确认要删除分类 [ "+t.vTitle+" ] 吗?",content:"注意，删除操作将不可恢复。",okType:"danger",onOk:function(){e.$api.talk.delIntention({sid:t.vSid?parseInt(t.vSid):0}).then((function(){e.cards.splice(t.vKey,1),e.visibleSid=!1})).catch((function(t){console.log(t)}))},onCancel:function(){}})},removeQuery:function(t){var e,a=this;e=1==t.vMode?t.vQueryKW:t.vQueryRE,this.$confirm({title:"您确认要删除关键词 [ "+e.toString()+" ] 吗?",content:"注意，删除操作将不可恢复。",okType:"danger",onOk:function(){a.$api.talk.delQuery({id:t.vId?parseInt(t.vId):0}).then((function(){t.vHello?a.hello.queries.forEach((function(e,r){t.vId==e.id&&a.hello.queries.splice(r,1)})):a.cards[t.vKey].queries.forEach((function(e,r){t.vId==e.id&&a.cards[t.vKey].queries.splice(r,1)})),a.$nextTick((function(){a.formQuery.resetFields()})),a.visibleQuery=!1})).catch((function(t){console.log(t)}))},onCancel:function(){}})},classCardBox:function(t,e){var a=e%this.rows,r=e-(0==a?this.rows:a);return t+1>r?"":"card_box"},actionTop:function(t,e){-1!=t.currentTarget.className.indexOf("card_box")&&(t.currentTarget.className=e?"card_box action":"card_box ")}}}),xt=wt,Ct=(a("5a18"),Object(p["a"])(xt,_t,kt,!1,null,"81c1f5e0",null)),St=Ct.exports,jt={name:"guide",data:function(){var t=[{str:"欢迎",next:"下一步：设备配置 >>",component:Z,sub:0,func:function(){}},{str:"设备配置",next:"下一步：云服务配置 >>",component:nt,sub:0,func:function(t){t.submitSettings()}},{str:"云服务配置",next:"下一步：个性化语音 >>",component:dt,sub:1,func:function(t){t.submitSettings()}},{str:"个性化语音",next:"下一步：别人怎么称呼我 >>",component:dt,sub:2,func:function(t){t.submitSettings()}},{str:"别人怎么称呼我",next:"下一步：来电意图处理 >>",component:gt,sub:0,func:function(){}},{str:"来电意图处理",next:"下一步：完成配置，启动服务 >>",component:St,sub:0,func:function(){}}];return{next:t}},props:["step"],components:{GuideFirst:Z,SettingsDevice:nt,SettingsCloud:dt,TalkWhom:gt,TalkIntent:St},computed:{prevBtn:function(){return"返回上一步"},nextBtn:function(){return this.next[this.stepNum].next},stepNum:function(){return"undefined"==typeof this.step?0:parseInt(this.step)},stepComponent:function(){return this.next[this.stepNum].component},stepComponentSub:function(){return this.next[this.stepNum].sub}},methods:{toPrev:function(){this.routerTo(this.stepNum-1)},toNext:function(){var t=this,e=this.$refs.comp.formCheck;0==e?(t.next[t.stepNum].func(t.$refs.comp),this.routerTo(t.stepNum+1)):1==e?this.$confirm({title:"确认跳过本步骤？",content:"注意，当前步骤设置存在错误或不完整！是否强制保存？",okType:"danger",onOk:function(){t.next[t.stepNum].func(t.$refs.comp),t.routerTo(t.stepNum+1)},onCancel:function(){}}):2==e&&this.routerTo(t.stepNum+1)},routerTo:function(t){this.next.length>t&&t>=0?this.$router.push({path:"/guide/"+t}):this.$router.push({path:"/"})}}},Tt=jt,Pt=(a("b47f"),Object(p["a"])(Tt,B,W,!1,null,"bcf7c130",null)),$t=Pt.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logs_page"},[a("div",{staticClass:"log_box mbm"},[t.userActivatedNo?a("Begin"):t._e(),a("div",{staticClass:"intent mbm"},[a("a-row",{attrs:{gutter:16}},[a("a-col",{staticClass:"mbm",attrs:{span:9}},[a("a-card",[a("div",{attrs:{slot:"extra"},slot:"extra"},[a("a-pagination",{attrs:{size:"small",total:t.countCall,defaultPageSize:20},on:{change:t.changePageCall},model:{value:t.currentCall,callback:function(e){t.currentCall=e},expression:"currentCall"}})],1),a("div",{attrs:{slot:"title"},slot:"title"},[t._v(" 电话录音 "),a("a-badge",{attrs:{count:t.countCall,numberStyle:{backgroundColor:"#06b400"}}})],1),t._l(t.listCall,(function(e,r){return a("div",{key:r,staticClass:"mbm call info"},[a("div",{staticClass:"mbs"},[t._v(t._s(e.tel_from)+" 来电：")]),e.text?a("div",{staticClass:"text mbm"},[t._v(t._s(e.text))]):a("div",{staticClass:"mbm"},[t._v("静默...")]),e.recording?a("div",{staticClass:"wav_player mbm"},[a("audio",{staticClass:"audio",attrs:{src:e.recording_url,controls:""}})]):t._e(),a("div",{staticClass:"time mbs"},[t._v(" "+t._s(e.dateline_str)+" "),a("a",{on:{click:function(a){return t.delCall(r,e.id)}}},[a("a-icon",{attrs:{type:"delete"}})],1)])])})),t.listCall?t._e():a("div",{staticClass:"mbm call info end"},[t._v("··· 没有电话，世界很安静 ···")])],2)],1),a("a-col",{staticClass:"mbm",attrs:{span:9}},[a("a-card",[a("div",{attrs:{slot:"extra"},slot:"extra"},[a("a-pagination",{attrs:{size:"small",total:t.countSMS,defaultPageSize:20},on:{change:t.changePageSMS},model:{value:t.currentSMS,callback:function(e){t.currentSMS=e},expression:"currentSMS"}})],1),a("div",{attrs:{slot:"title"},slot:"title"},[t._v(" 我的短信 "),a("a-badge",{attrs:{count:t.countSMS,numberStyle:{backgroundColor:"#06b400"}}})],1),t._l(t.listSMS,(function(e,r){return a("div",{key:r,staticClass:"mbm sms info"},[t._v(" "+t._s(e.tel_from)+" "),a("p",[t._v(t._s(e.text))]),t._v(" "+t._s(e.dateline_str)+" "),a("a",{on:{click:function(a){return t.delSMS(r,e.id)}}},[a("a-icon",{attrs:{type:"delete"}})],1)])})),t.listSMS?t._e():a("div",{staticClass:"mbm sms info end"},[t._v("··· 这里没有短信，心里空空的 ···")])],2)],1),a("a-col",{staticClass:"mbm",attrs:{span:6}},[a("a-card",{attrs:{title:"费用预估"}},[a("p",[t._v("累计通话时长："+t._s(t.cost.minute)+"分钟")]),a("p",[t._v(" 每分钟计费： "),a("a",{directives:[{name:"show",rawName:"v-show",value:t.inputPriceHide,expression:"inputPriceHide"}],attrs:{type:"link"},on:{click:t.changeInputPrice}},[t._v(" "+t._s(t.cost.unit_price)+"元 "),a("a-icon",{attrs:{type:"edit"}})],1),a("a-input-number",{directives:[{name:"show",rawName:"v-show",value:!t.inputPriceHide,expression:"!inputPriceHide"}],attrs:{min:0,step:.1},on:{blur:t.updatePrice},model:{value:t.cost.unit_price,callback:function(e){t.$set(t.cost,"unit_price",e)},expression:"cost.unit_price"}})],1),a("p",[t._v("预估总费用："+t._s(t.cost.cost)+"元")])])],1)],1)],1)],1)])},Rt=[],Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.users_guide?a("div",{staticClass:"begin_sub mbm"},[a("a-alert",{staticClass:"alert_beginner",attrs:{message:"新手提示",type:"success",showIcon:"",closeText:"X 关闭",closable:"",afterClose:t.onClose}},[a("a-icon",{attrs:{slot:"icon",type:"smile"},slot:"icon"}),a("div",{attrs:{slot:"description"},slot:"description"},[t._v(" 初次使用配置较多，建议使用向导开启您的此次AI技术探索。 "),a("a-button",{staticClass:"mbm",attrs:{type:"primary"},on:{click:t.toGuide}},[t._v("点此进入新手向导 >>")])],1)],1)],1):t._e()},qt=[],It={data:function(){return{}},props:{},computed:{users_guide:function(){return"off"!=this.$store.state.common.setting.users_guide}},methods:{toGuide:function(){this.$router.push({path:"/guide"})},onClose:function(){this.$api.setting.set({key:"users_guide",value:"off",noSql:!0}).then((function(){})).catch((function(){}))}}},Nt=It,Et=(a("4ccf"),Object(p["a"])(Nt,Qt,qt,!1,null,"5f0449e8",null)),Ut=Et.exports,Ft={data:function(){return{listSMS:[],countSMS:0,listCall:[],countCall:0,cost:{minute:0,cost:0,unit_price:0},inputPriceHide:!0,currentSMS:1,currentCall:1,lastVer:{}}},props:{userActivatedNo:Boolean},components:{Begin:Ut},mounted:function(){"undefined"!=typeof this.$store.state.common.token.str&&(this.loadSMS(1),this.loadCall(1),this.loadCost(),this.localVersion())},methods:{localVersion:function(){var t=this;this.$api.setting.getVersion().then((function(e){if(null!=e.last){var a="upload";t.lastVer=e.last,t.$notification.open({style:"color: #ff0000;",message:"发现新版本",description:"QiarAI已有新版本发布，建议立即更新！",placement:"bottomRight",btn:function(e){return e("a-button",{props:{type:"primary"},on:{click:function(){t.$api.setting.goAbout(),t.$notification.close(a)}}},"查看更新")},key:a,onClose:close,duration:5})}}))},loadSMS:function(t){var e=this;this.$api.logs.getSMSList({page:t}).then((function(t){e.listSMS=t.list,e.countSMS=t.count})).catch((function(){}))},loadCall:function(t){var e=this;this.$api.logs.getCallList({page:t}).then((function(t){e.listCall=t.list,e.countCall=t.count})).catch((function(){}))},loadCost:function(){var t=this;this.$api.logs.getCost().then((function(e){t.cost=e})).catch((function(){}))},delSMS:function(t,e){var a=this;this.$confirm({title:"删除短信",content:"您确认要删除这条短信吗?",onOk:function(){a.$api.logs.delSMS({id:e}).then((function(){a.listSMS.splice(t,1),a.countSMS--}))},onCancel:function(){}})},delCall:function(t,e){var a=this;this.$confirm({title:"删除录音",content:"您确认要删除这条通话录音吗?",onOk:function(){a.$api.logs.delCall({id:e}).then((function(){a.listCall.splice(t,1),a.countCall--}))},onCancel:function(){}})},updatePrice:function(){var t=this;this.$api.setting.set({key:"unit_price",value:this.cost.unit_price}).then((function(){t.loadCost(),t.inputPriceHide=!0,t.$message.info("计费单价已修改")})).catch((function(){t.$message.info("计费修改失败！")}))},changeInputPrice:function(){this.inputPriceHide=!this.inputPriceHide},changePageCall:function(t){this.loadCall(t)},changePageSMS:function(t){this.loadSMS(t)}}},Lt=Ft,Mt=(a("96f8"),Object(p["a"])(Lt,Ot,Rt,!1,null,"6575e1d6",null)),At=Mt.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"talk_page"},[a("a-steps",{attrs:{progressDot:"",direction:"vertical",current:t.current}},[a("a-step",{attrs:{title:"1. 礼貌接听",description:"设置我的接听开场白"},on:{click:function(e){return t.stepClick(0,!0)}}}),a("a-step",{attrs:{title:"2. 主人称呼",description:"别人怎么称呼我"},on:{click:function(e){return t.stepClick(1,!0)}}}),a("a-step",{attrs:{title:"3. 意图分类",description:"来电意图和闲聊处理"},on:{click:function(e){return t.stepClick(2,!0)}}})],1),a("div",{staticClass:"step_box mbm"},[a("div",{class:t.classname[0],on:{click:function(e){return t.stepClick(0)}}},[a("TalkStart")],1),a("div",{class:t.classname[1],on:{click:function(e){return t.stepClick(1)}}},[a("TalkWhom")],1),a("div",{class:t.classname[2],on:{click:function(e){return t.stepClick(2)}}},[a("TalkIntent")],1)])],1)},Vt=[],Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"start mbm bt_line"},[a("h4",{staticClass:"step_title mbm"},[t._v("第一步，设置我的接听开场白：")]),a("a-form",{attrs:{layout:"inline",form:t.formStart},on:{submit:t.handleSubmit}},[a("a-form-item",[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["prologue",{rules:[{required:!0,message:"没有开场白，对方会误认无人接听哦？"}]}],expression:"[\n        'prologue',\n        { rules: [{ required: true, message: '没有开场白，对方会误认无人接听哦？' }] },\n        ]"}],staticClass:"talk_input mrm",staticStyle:{width:"300px"},attrs:{dataSource:t.dataSource,placeholder:"请输入接听电话时，您要说的话。"},on:{select:t.onSelect,search:t.handleSearch}})],1),a("a-form-item",[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[t._v("设置生效")])],1)],1)],1)},zt=[],Bt={data:function(){return{dataSource:this.$store.state.common.setting.talk_prologue_history.split("|")}},computed:{prologue:function(){return this.$store.state.common.setting.talk_prologue}},created:function(){var t=this;this.formStart=this.$form.createForm(this,{name:"form_start",mapPropsToFields:function(){return{prologue:t.$form.createFormField({value:t.prologue})}}})},methods:{handleSearch:function(){},onSelect:function(){},handleSubmit:function(t){var e=this;t.preventDefault(),this.formStart.validateFields((function(t,a){t||e.$api.setting.set({key:"talk_prologue",value:a.prologue}).then((function(){e.$message.info("接听语音已经生效！")})).catch((function(t){console.log(t)}))}))}}},Wt=Bt,Ht=Object(p["a"])(Wt,Dt,zt,!1,null,"3504b474",null),Gt=Ht.exports,Jt={data:function(){return{current:0,classname:[]}},components:{TalkStart:Gt,TalkWhom:gt,TalkIntent:St},methods:{stepClick:function(t){this.current=t,this.classname=[],this.classname[t]="step_action"}}},Yt=Jt,Xt=(a("2991"),Object(p["a"])(Yt,Kt,Vt,!1,null,"16bc7d94",null)),Zt=Xt.exports,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"end mbm"},[a("h4",{staticClass:"step_title"},[t._v("第四步，最终检测与生效：")]),a("div",{staticClass:"mbm"},[a("a-button",{attrs:{type:"primary"}},[t._v("通话检测")])],1)])},ee=[],ae={data:function(){return{}},methods:{}},re=ae,se=Object(p["a"])(re,te,ee,!1,null,null,null),ne=se.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notice mbm"},[a("h4",{staticClass:"step_title"},[t._v("第五步，通话完毕后推送内容：")]),a("div",{staticClass:"mbm"},[a("a-button",{attrs:{type:"primary"}},[t._v("5. 通知主人")])],1)])},oe=[],ce={data:function(){return{}},methods:{}},ue=ce,le=Object(p["a"])(ue,ie,oe,!1,null,null,null),de=le.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings_page"},[a("div",{staticClass:"step_box mbm"},[a("div",[a("router-view",{})],1)])])},me=[],fe={data:function(){return{}},components:{},mounted:function(){},methods:{}},he=fe,ve=Object(p["a"])(he,pe,me,!1,null,"0699ff59",null),be=ve.exports,ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user mbm"},[a("a-form",{attrs:{form:t.formSettings},on:{submit:t.submitSettings}},[a("h4",{staticClass:"step_title mbm"},[t._v("GPIO状态")]),a("div",{staticClass:"pin_list mbm"},t._l(t.pinList,(function(e,r){return a("div",{key:r,staticClass:"side"},t._l(e,(function(e,r){return a("div",{key:r,class:0==t.bcmList[e.BCM]?"pin low":"pin high"},[t._v(t._s(e.BCM))])})),0)})),0),a("h4",{staticClass:"step_title mbm"},[t._v("设备AT控制台")]),a("div",{staticClass:"at_log"},[a("a-textarea",{ref:"cmdtext",staticClass:"cmdtext",attrs:{placeholder:"",autosize:{minRows:20,maxRows:25}},model:{value:t.redata,callback:function(e){t.redata=e},expression:"redata"}})],1),a("a-tabs",[a("a-tab-pane",{key:"1",attrs:{tab:"AT命令"}},[a("div",{staticClass:"wrapper"},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["at",{rules:[{required:!0,message:"这里不能为空哦！"}]}],expression:"['at',{ rules: [{ required: true, message: '这里不能为空哦！' }] }]"}],staticClass:"talk_input mrm",staticStyle:{width:"300px"},attrs:{placeholder:"请输入AT命令"}})],1)],1),a("a-form-item",[a("a-button",{staticClass:"mbm mrm",attrs:{type:"primary","html-type":"submit"}},[t._v("立即提交")]),a("a-button",{staticClass:"mbm",attrs:{type:"danger"},on:{click:t.clearAT}},[t._v("清空")])],1)],1),a("a-tab-pane",{key:"2",attrs:{tab:"识别测试"}},[a("div",{staticClass:"wrapper"},[a("a-form-item",[a("a-select",{staticStyle:{width:"320px"},attrs:{placeholder:"请选择一个现有PCM文件测试"},on:{change:t.handleChange}},t._l(t.listPCM,(function(e){return a("a-select-option",{key:e.path,attrs:{value:e.path}},[t._v(t._s(e.path))])})),1)],1)],1)])],1)],1)],1)},ge=[],_e="http://",ke="localhost";_e="//",ke=window.location.host;var we={url:{auth:_e+ke+"/api/v1",core:_e+ke+"/api/v1",ws:"ws://"+ke}},xe=we,Ce={data:function(){return{websock:{},redata:"",reconect:3,scrollHeight:0,listPCM:[],pinList:{},bcmList:{}}},created:function(){this.formSettings=this.$form.createForm(this,{name:"form_settings"})},mounted:function(){"undefined"!=typeof this.$store.state.common.token.str&&(this.initWebSocket(),this.loadAT(),this.loadPCM(),this.loadPin())},destroyed:function(){this.websock.close()},methods:{submitSettings:function(t){var e=this;t.preventDefault(),this.formSettings.validateFields((function(t,a){t||e.$api.setting.AT({at:a.at}).then((function(){e.formSettings.setFieldsValue({at:""})})).catch((function(t){console.log(t)}))}))},loadPCM:function(){var t=this;this.$api.test.getPCMList().then((function(e){t.listPCM=e}))},loadAT:function(){var t=this;this.$api.setting.getAT().then((function(e){t.redata=e,t.scrollBottom()}))},loadPin:function(){var t=this;this.$api.setting.getPinList().then((function(e){t.pinList=e,t.pinList.Outside.forEach((function(e){t.bcmList[e.BCM]=1})),t.pinList.Inside.forEach((function(e){t.bcmList[e.BCM]=1}))}))},clearAT:function(){var t=this;this.$api.setting.delAT().then((function(){t.redata=""}))},handleChange:function(t){this.$api.test.fileASR({path:t})},initWebSocket:function(){var t="".concat(xe.url.ws,"/ws");this.websock=new WebSocket(t),this.websock.onmessage=this.websocketonmessage,this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},websocketonopen:function(){},websocketonerror:function(){this.reconect>0&&(this.initWebSocket(),this.reconect--)},websocketonmessage:function(t){var e=JSON.parse(t.data),a="undefined"!=typeof e.M?e.M:"";"undefined"!=typeof e.T&&(1==e.T?this.redata=this.redata+a:2==e.T&&(this.bcmList[a.Pin]=a.State)),this.scrollBottom()},websocketsend:function(t){this.websock.send(t)},websocketclose:function(t){this.redata="连接已断开",console.log("断开连接",t)},scrollBottom:function(){var t=this;this.$nextTick((function(){t.scrollHeight=document.querySelector(".cmdtext").scrollHeight,document.querySelector(".cmdtext").scrollTop=t.scrollHeight}))}}},Se=Ce,je=(a("decf"),Object(p["a"])(Se,ye,ge,!1,null,"bb5659a8",null)),Te=je.exports,Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user mbm"},[a("a-form",{attrs:{layout:"inline",form:t.formAuth},on:{submit:t.submitAuth}},[a("h4",{staticClass:"step_title mbm"},[t._v("登录安全设置")]),a("div",{staticClass:"label"},[t._v("新密码：")]),a("div",{staticClass:"wrapper mbs"},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password1",{rules:[{required:!0,message:"这里不能为空哦！"}]}],expression:"['password1',{ rules: [{ required: true, message: '这里不能为空哦！' }] }]"}],staticClass:"password_input mrm",staticStyle:{width:"300px"},attrs:{placeholder:"请输入新的密码"}})],1)],1),a("div",{staticClass:"label"},[t._v("确认密码：")]),a("div",{staticClass:"wrapper mbs"},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password2",{rules:[{required:!0,message:"这里不能为空哦！"}]}],expression:"['password2',{ rules: [{ required: true, message: '这里不能为空哦！' }] }]"}],staticClass:"password_input mrm",staticStyle:{width:"300px"},attrs:{placeholder:"请再次输入新密码"}})],1)],1),a("a-form-item",[a("a-button",{staticClass:"mbm",attrs:{type:"primary","html-type":"submit"}},[t._v("立即修改")])],1)],1)],1)},$e=[],Oe={data:function(){var t={xs:{span:5},sm:{span:5}},e={xs:{span:24},sm:{span:12}};return{formItemLayout:{labelCol:t,wrapperCol:e},buttonCol:{xs:{offset:t.xs.span},sm:{offset:t.sm.span}},password1:"",password2:""}},created:function(){this.formAuth=this.$form.createForm(this,{name:"form_auth"})},methods:{submitAuth:function(t){var e=this;t.preventDefault(),this.formAuth.validateFields((function(t,a){t||e.$api.auth.update({password1:a.password1,password2:a.password2}).then((function(){e.$message.info("密码已经修改！")})).catch((function(t){console.log(t)}))}))}}},Re=Oe,Qe=Object(p["a"])(Re,Pe,$e,!1,null,"f36dbb7a",null),qe=Qe.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"end mbm"},[a("a-form-item",[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.showModalPolicy({},e)}}},[t._v("+ 新增策略")])],1),a("a-table",{attrs:{columns:t.columns,dataSource:t.policies,pagination:!1},scopedSlots:t._u([{key:"nametitle",fn:function(e,r){return a("span",{},[a("a",{on:{click:function(e){return t.showModalPolicy(r,e)}}},[t._v(t._s((r.silent?"":"[语音] ")+e))])])}},{key:"intentions",fn:function(e){return a("span",{},[a("span",[t._v(t._s(e))])])}},{key:"checked",fn:function(e){return a("span",{},t._l(e,(function(e,r){return a("a-tag",{key:r,attrs:{color:e?"green":""}},[t._v(t._s(t.checkedCN[r]))])})),1)}},{key:"action",fn:function(e){return a("span",{},[a("a",{on:{click:function(a){return t.showModalPolicy(e,a)}}},[a("a-icon",{staticClass:"mri",attrs:{type:"setting"}}),t._v("设置")],1)])}}])},[a("span",{attrs:{slot:"customTitle"},slot:"customTitle"},[t._v(" 策略名称 ")])]),a("a-modal",{attrs:{title:t.modalPolicyTitle,visible:t.modalPolicyVisible,confirmLoading:t.modalPolicyLoading,footer:null,mask:!0,maskClosable:!1},on:{ok:t.submitPolicy,cancel:t.cancelModalPolicy}},[a("a-form",{attrs:{form:t.formPolicy},on:{submit:t.submitPolicy}},[a("a-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{"wrapper-col":{span:12,offset:5}}},[a("a-checkbox",{attrs:{checked:t.editPolicy.silent},on:{change:function(e){return t.check("silent",e)}}},[t._v(t._s(t.editPolicy.silent?"本策略会默默的挂断电话":"什么都不说，直接挂断？"))])],1),a("a-form-item",{attrs:{label:t.editPolicy.silent?"策略名称":"结束语音","label-col":{span:5},"wrapper-col":{span:12},extra:""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{rules:[{required:!0,message:"这里不能空着哦！"}]}],expression:"['title',{ rules: [{ required: true, message: '这里不能空着哦！' }] }]"}],staticClass:"talk_input mrm",staticStyle:{width:"300px"},attrs:{placeholder:t.editPolicy.silent?"请输入方便您自己理解的名称":"请输入挂断通话之前要说的话"}})],1),a("a-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{"wrapper-col":{span:12,offset:5}}},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-checkbox",{attrs:{checked:t.editPolicy.checked.sms},on:{change:function(e){return t.check("sms",e)}}},[t._v(t._s(t.editPolicy.checked.sms?"已开启短信通知":"短信通知？"))])],1),a("a-col",{attrs:{span:24}},[a("a-checkbox",{attrs:{checked:t.editPolicy.checked.call},on:{change:function(e){return t.check("call",e)}}},[t._v(t._s(t.editPolicy.checked.call?"已开启电话通知":"电话通知？"))])],1),a("a-col",{attrs:{span:24}},[a("a-checkbox",{attrs:{checked:t.editPolicy.checked.push},on:{change:function(e){return t.check("push",e)}}},[t._v(t._s(t.editPolicy.checked.push?"已开启推送通知":"推送通知？"))])],1),a("a-col",{attrs:{span:24}},[a("a-checkbox",{attrs:{checked:t.editPolicy.checked.blacklist},on:{change:function(e){return t.check("blacklist",e)}}},[t._v(t._s(t.editPolicy.checked.blacklist?"自动进入黑名单":"进入黑名单？"))])],1)],1)],1),t.editPolicy.id?a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[a("a-button",{staticClass:"mbm",attrs:{type:"primary","html-type":"submit"}},[t._v("立即修改")])],1):a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[a("a-button",{staticClass:"mbm",attrs:{type:"primary","html-type":"submit"}},[t._v("立即新增")])],1)],1)],1)],1)},Ne=[],Ee=(a("fb6a"),[{dataIndex:"title",key:"title",slots:{title:"customTitle"},scopedSlots:{customRender:"nametitle"}},{title:"关联意图",key:"intentions",dataIndex:"intentions"},{title:"通知/反馈",key:"checked",dataIndex:"checked",scopedSlots:{customRender:"checked"}},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}]),Ue={sms:"短信",call:"电话",push:"推送",blacklist:"拉黑"},Fe=[],Le={data:function(){return{policies:Fe,columns:Ee,checkedCN:Ue,editPolicy:{},modalPolicyVisible:!1,modalPolicyLoading:!1,modalPolicyTitle:""}},created:function(){this.formPolicy=this.$form.createForm(this,{name:"form_policy"}),this.editPolicy=this.newPolicy()},mounted:function(){this.loadPolicy()},methods:{newPolicy:function(t,e){var a={key:0,id:0,title:"",silent:!1,intentions:"",hits:0,checked:{sms:!0,call:!1,push:!1,blacklist:!1}};if("undefined"!=typeof t){var r=[];t.intentions.forEach((function(t){r.push(t.title)})),a.key=e||0,a.id=t.id,a.title=t.title,a.silent=t.silent,a.intentions=r.length>0?r.toString().slice(0,15)+" ...":"-",a.hits=t.hits,a.checked=t.checked}return a},loadPolicy:function(){var t=this;this.$api.setting.getPolicyList().then((function(e){t.policies=[],e.forEach((function(e,a){t.policies.push(t.newPolicy(e,a))}))})).catch((function(t){console.log(t)}))},showModalPolicy:function(t){this.modalPolicyVisible=!0,"undefined"!=typeof t.id?(this.modalPolicyTitle="修改策略",this.editPolicy=t):(this.modalPolicyTitle="新增策略",this.editPolicy=this.newPolicy()),this.$nextTick((function(){this.formPolicy.setFieldsValue({title:this.editPolicy.title})}))},submitPolicy:function(t){var e=this;t.preventDefault(),this.formPolicy.validateFields((function(t,a){t||e.$api.setting.addOrUpdatePolicy({id:e.editPolicy.id,title:a.title,silent:e.editPolicy.silent,checked:e.editPolicy.checked}).then((function(){e.editPolicy.key>0?e.$message.info("挂断策略修改成功！"):e.$message.info("挂断策略新增成功！"),e.loadPolicy(),e.modalPolicyVisible=!1})).catch((function(t){console.log(t)}))}))},cancelModalPolicy:function(){this.modalPolicyVisible=!1},check:function(t,e){"silent"==t?this.editPolicy.silent=e.target.checked:this.editPolicy.checked[t]=e.target.checked}}},Me=Le,Ae=Object(p["a"])(Me,Ie,Ne,!1,null,null,null),Ke=Ae.exports,Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about mbm"},[a("div",{staticClass:"box"},[a("h3",[t._v("QiarAI 智能语音助手")]),null!=t.last?a("div",{staticClass:"update"},[a("div",{staticClass:"mrm"},[a("span",{staticClass:"new"},[t._v("发现新版本 v"+t._s(t.last.version))]),a("br"),a("span",{staticClass:"old"},[t._v("当前版本 v"+t._s(t.local.version))]),a("br"),a("a",{attrs:{href:"//ai.iqiar.com/update?from=QiarAI",target:"_blank"}},[t._v("点此了解更新内容"),a("a-icon",{attrs:{type:"link"}})],1)]),100==t.progress?a("div",{staticClass:"progress"},[a("a-button",{attrs:{type:"primary",icon:"poweroff"},on:{click:t.doReload}},[t._v("更新完毕！点此重启")])],1):a("div",{staticClass:"progress"},[t.progress>0?a("div",[a("a-progress",{attrs:{type:"circle",percent:t.progress,width:60,hidden:0==t.progress}})],1):0==t.progress&&t.hideUpdate?a("div",[t._v("开始更新...请勿断网或断电！")]):a("div",[a("a-button",{attrs:{type:"default"},on:{click:t.doUpdate}},[t._v("立即更新")])],1)])]):null!=t.local?a("div",{staticClass:"last"},[t._v(" "+t._s(t.local.content)+" "),a("br"),t._v(" 当前版本 v"+t._s(t.local.version)+" ")]):a("div",{staticClass:"last"},[a("a-icon",{staticClass:"mrm",attrs:{type:"loading"}}),t._v("检查版本中... ")],1),a("div",{staticClass:"iqiar mtm"},[t._v("人工智能小众社群 iQiar.COM 开源项目 "),a("a",{attrs:{href:"//ai.iqiar.com/?from=QiarAI",target:"_blank"}},[t._v("[ 进入官网"),a("a-icon",{attrs:{type:"link"}}),t._v(" ]")],1)]),a("div",{staticClass:"feedback mts"},[a("a",{attrs:{href:"//iqiar.com/feedback?from=QiarAI",target:"_blank"}},[t._v("问题反馈"),a("a-icon",{attrs:{type:"link"}})],1)]),t._m(0),t._m(1)])])},De=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"copyright mts"},[t._v(" QiarAI "),a("br"),t._v("版权所有 2020 iQiar.COM. 保留所有权利。 "),a("br"),t._v("本项目主要采用Golang语言开发，感谢其他开源项目： "),a("a",{attrs:{href:"//github.com/tarm/serial",target:"_blank"}},[t._v("serial")]),t._v(", "),a("a",{attrs:{href:"//github.com/gin-gonic/gin",target:"_blank"}},[t._v("gin")]),t._v(", "),a("a",{attrs:{href:"//github.com/youpy/go-wav",target:"_blank"}},[t._v("go-wav")]),t._v(", "),a("a",{attrs:{href:"//github.com/gorilla/websocket",target:"_blank"}},[t._v("websocket")]),t._v(", "),a("a",{attrs:{href:"//github.com/inconshreveable/go-update",target:"_blank"}},[t._v("go-update")]),t._v(", "),a("a",{attrs:{href:"//cn.vuejs.org/",target:"_blank"}},[t._v("vuejs")]),t._v(", "),a("a",{attrs:{href:"//github.com/vueComponent/ant-design-vue",target:"_blank"}},[t._v("ant-design")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"other mts"},[a("a",{attrs:{href:"//ai.iqiar.com/agreement?from=QiarAI",target:"_blank"}},[t._v("QiarAI 服务条款")]),a("br")])}],ze={data:function(){return{local:null,last:null,progress:0,reload:{},hideUpdate:!1}},mounted:function(){this.localVersion(),this.showProgress(0)},methods:{localVersion:function(){var t=this;this.$api.setting.getVersion().then((function(e){t.local=e,null!=e.last&&(t.last=e.last)}))},doUpdate:function(){var t=this;this.hideUpdate=!0,this.$api.setting.doUpdateVersion().then((function(){t.showProgress(1)}))},showProgress:function(t){var e=this;this.$api.setting.getProgress().then((function(a){if(100==a.progress)e.progress=a.progress;else if(a.progress+t>0&&a.progress<=100)var r=setInterval((function(){e.progress<100?e.$api.setting.getProgress().then((function(t){e.progress=t.progress,t.completed&&clearInterval(r)})).catch((function(){clearInterval(r)})):clearInterval(r)}),1e3)}))},doReload:function(){var t=this;this.$api.setting.doReload().then((function(e){t.reload=e,t.$store.commit("SET_TOKEN",{}),t.$api.auth.autoLogin()}))}}},Be=ze,We=(a("2386"),Object(p["a"])(Be,Ve,De,!1,null,"59b2ccbc",null)),He=We.exports,Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout-sider",{ref:"side",staticClass:"side_bar",attrs:{theme:"light",collapsible:"",trigger:null,collapsedWidth:78,width:160}},[a("a-menu",{staticClass:"menu",attrs:{defaultSelectedKeys:[t.siderKey],width:"auto"}},[a("a-menu-item",{key:"settings",staticClass:"menu_item"},[a("router-link",{attrs:{to:"/settings"}},[a("a-icon",{staticClass:"icon",attrs:{type:"code"}}),a("span",{staticClass:"text"},[t._v("控制台")])],1)],1),a("a-menu-item",{key:"settings_cloud",staticClass:"menu_item"},[a("router-link",{attrs:{to:"/settings/cloud"}},[a("a-icon",{staticClass:"icon",attrs:{type:"cloud"}}),a("span",{staticClass:"text"},[t._v("云服务")])],1)],1),a("a-menu-item",{key:"settings_end",staticClass:"menu_item"},[a("router-link",{attrs:{to:"/settings/end"}},[a("a-icon",{staticClass:"icon",attrs:{type:"alert"}}),a("span",{staticClass:"text"},[t._v("挂断策略")])],1)],1),a("a-menu-item",{key:"settings_device",staticClass:"menu_item"},[a("router-link",{attrs:{to:"/settings/device"}},[a("a-icon",{staticClass:"icon",attrs:{type:"setting"}}),a("span",{staticClass:"text"},[t._v("设备配置")])],1)],1),a("a-menu-item",{key:"settings_user",staticClass:"menu_item"},[a("router-link",{attrs:{to:"/settings/user"}},[a("a-icon",{staticClass:"icon",attrs:{type:"user"}}),a("span",{staticClass:"text"},[t._v("安全设置")])],1)],1),a("a-menu-item",{key:"settings_about",staticClass:"menu_item"},[a("router-link",{attrs:{to:"/settings/about"}},[a("a-icon",{staticClass:"icon",attrs:{type:"bulb"}}),a("span",{staticClass:"text"},[t._v("版本动态")])],1)],1)],1)],1)},Je=[],Ye={data:function(){return{}},computed:{siderKey:function(){return this.$route.name}},methods:{}},Xe=Ye,Ze=(a("baf3"),Object(p["a"])(Xe,Ge,Je,!1,null,"2e0d7647",null)),ta=Ze.exports;r["a"].use(T["a"]);var ea,aa=new T["a"]({mode:"history",base:"/",routes:[{path:"/guide/:step?",name:"guide",component:$t,props:!0},{path:"/",name:"logs",component:At},{path:"/auth",component:q,children:[{path:"login",name:"login",component:L},{path:"register",name:"register",component:z}]},{path:"/talk/:step?",component:Zt,children:[{path:"",name:"talk_empty",component:Gt},{path:"start",name:"start",component:Gt},{path:"whom",name:"whom",component:gt},{path:"intent",name:"intent",component:St},{path:"end",name:"end",component:ne},{path:"notice",name:"notice",component:de}]},{path:"/settings",components:{default:be,sidebar:ta},children:[{path:"",name:"settings",component:Te},{path:"user",name:"settings_user",component:qe},{path:"end",name:"settings_end",component:Ke},{path:"device",name:"settings_device",component:nt},{path:"cloud",name:"settings_cloud",component:dt},{path:"about",name:"settings_about",component:He}]},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}}]}),ra=a("2f62"),sa=a("fc11"),na=a("335a"),ia="SET_TOKEN",oa="SETTING",ca="NETWORK",ua={token:na["a"].get("token")?na["a"].get("token"):{},setting:na["a"].get("setting")?na["a"].get("setting"):{},network:!1!==na["a"].get("network")},la={},da={},pa=(ea={},Object(sa["a"])(ea,ia,(function(t,e){na["a"].set("token",e),t.token=e})),Object(sa["a"])(ea,oa,(function(t,e){na["a"].set("setting",e),t.setting=e})),Object(sa["a"])(ea,ca,(function(t,e){na["a"].set("network",e),t.network=e})),ea),ma={state:ua,getters:la,actions:da,mutations:pa};r["a"].use(ra["a"]);var fa=!1,ha=new ra["a"].Store({modules:{common:ma},strict:fa}),va=(a("3b18"),a("f64c")),ba=a("bc3a"),ya=a.n(ba),ga=ya.a.create({timeout:12e3,withCredentials:!0}),_a=function(t){va["a"].error(t)},ka=function(t){console.log(t)};ga.interceptors.request.use((function(t){var e=ha.state.common.token.str;return e&&(t.headers.Authorization="Basic "+e),t}),(function(t){return Promise.reject(t)})),ga.interceptors.response.use((function(t){return ha.commit("NETWORK",!0),200===t.status?Promise.resolve(t):Promise.reject(t)}),(function(t){var e=t.response;if(e)return ha.commit("NETWORK",!0),wa(e.status,t.config,e.data.message),Promise.reject(e);(ha.state.common.network||"get"!=t.config.method)&&_a("QiarAI服务连接超时！"),ha.commit("NETWORK",!1)}));var wa=function(t,e,a){switch(t){case 400:_a(a);break;case 401:break;case 403:break;case 404:ka("请求的资源不存在");break;default:}},xa=ga,Ca=a("8237"),Sa=a.n(Ca),ja=va["a"],Ta={login:function(t){var e=new FormData;e.append("password",Sa()(t.password)),xa.post("".concat(xe.url.auth,"/login"),e).then((function(e){if(e.data){ha.commit("SET_TOKEN",{str:e.data.result.token.str,exp:e.data.result.token.exp}),ja.info("登录成功！"),aa.replace({path:t.redirect});var a=ha.state.common.token.str;console.log(a)}else ja.error("登录失败")})).catch((function(t){console.log(t),ja.error("error: "+t.data.message)}))},register:function(t){var e=new FormData;e.append("password",Sa()(t.password1)),e.append("password2",Sa()(t.password2)),xa.post("".concat(xe.url.auth,"/register"),e).then((function(t){t.data.result&&(ha.commit("SET_TOKEN",{str:t.data.result.token.str,exp:t.data.result.token.exp}),ja.info("欢迎您，激活成功!"),aa.replace({path:"/"}))}))},update:function(t){var e=new FormData;e.append("password",Sa()(t.password1)),e.append("password2",Sa()(t.password2)),xa.post("".concat(xe.url.auth,"/auth/update"),e).then((function(t){t.data?(console.log(t.data),ja.info("修改成功！")):ja.error("修改失败")})).catch((function(t){ja.error("修改出错："+t.data.message)}))},autoLogin:function(){aa.replace({path:"/auth/login",query:{redirect:aa.currentRoute.fullPath}})},logout:function(){var t=this;xa.get("".concat(xe.url.auth,"/logout")).then((function(e){e.data?(ha.commit("SET_TOKEN",{}),t.autoLogin(),ja.info("已经注销登录")):ja.error("注销失败")})).catch((function(t){ja.error("注销出错："+t)}))},getUserInfo:function(){return Object(ht["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xa.get("".concat(xe.url.auth,"/auth/info"));case 3:if(e=t.sent,!e.data.result){t.next=6;break}return t.abrupt("return",e.data.result);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},checkFirst:function(){return Object(ht["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xa.get("".concat(xe.url.auth,"/first"));case 3:if(e=t.sent,!e.data.result){t.next=6;break}return t.abrupt("return",e.data.result);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},Pa=Ta,$a={getUserList:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.get("".concat(xe.url.core,"/user/list"),{params:t});case 3:if(a=e.sent,!a.data){e.next=6;break}return e.abrupt("return",a.data.result);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},addOrUpdateUser:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.post("".concat(xe.url.core,"/user/add_update"),t);case 3:if(a=e.sent,!a.data){e.next=6;break}return e.abrupt("return",a.data.result);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},addCall:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=new FormData,a.append("uid",t.uid),a.append("call",t.call),e.next=6,xa.post("".concat(xe.url.core,"/user/add_call"),a);case 6:if(r=e.sent,!r.data){e.next=9;break}return e.abrupt("return",r.data.result);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},delUser:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=new FormData,a.append("uid",t.uid),e.next=5,xa.post("".concat(xe.url.core,"/user/del"),a);case 5:if(r=e.sent,!r.data){e.next=8;break}return e.abrupt("return",r.data.result);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},delCall:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=new FormData,a.append("id",t.id),e.next=5,xa.post("".concat(xe.url.core,"/user/del_call"),a);case 5:if(r=e.sent,!r.data){e.next=8;break}return e.abrupt("return",r.data.result);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getIntentionList:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.get("".concat(xe.url.core,"/intention/list"),{params:t});case 3:if(a=e.sent,!a.data){e.next=6;break}return e.abrupt("return",a.data.result);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},addOrUpdateIntention:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.post("".concat(xe.url.core,"/intention/add_update"),t);case 3:if(a=e.sent,!a.data){e.next=6;break}return e.abrupt("return",a.data.result);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},addOrUpdateQuery:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=new FormData,a.append("id",t.id),a.append("sid",t.sid),a.append("q",t.query),a.append("answer",t.answer),a.append("scores",t.scores),a.append("mode",t.mode),e.next=10,xa.post("".concat(xe.url.core,"/query/add_update"),a);case 10:if(r=e.sent,!r.data){e.next=13;break}return e.abrupt("return",r.data.result);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()},delIntention:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=new FormData,a.append("sid",t.sid),e.next=5,xa.post("".concat(xe.url.core,"/intention/del"),a);case 5:if(r=e.sent,!r.data){e.next=8;break}return e.abrupt("return",r.data.result);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},delQuery:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=new FormData,a.append("id",t.id),e.next=5,xa.post("".concat(xe.url.core,"/query/del"),a);case 5:if(r=e.sent,!r.data){e.next=8;break}return e.abrupt("return",r.data.result);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}},Oa=$a,Ra={all:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.get("".concat(xe.url.core,"/setting/list"),{params:t});case 3:if(a=e.sent,"undefined"==typeof a.data.result){e.next=7;break}return ha.commit("SETTING",a.data.result),e.abrupt("return",a.data.result);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},set:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.value=t.value.toString(),e.next=4,xa.post("".concat(xe.url.core,"/setting/set"),t);case 4:if(a=e.sent,"undefined"==typeof a.data.result){e.next=10;break}return r=JSON.parse(JSON.stringify(ha.state.common.setting)),r[t.key]=a.data.result[t.key],ha.commit("SETTING",r),e.abrupt("return",a.data.result);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},setList:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.forEach((function(e){"undefined"!=typeof t[e.key]&&(t[e.key]=t[e.key].toString())})),e.next=4,xa.post("".concat(xe.url.core,"/setting/set"),t);case 4:if(a=e.sent,"undefined"==typeof a.data.result){e.next=10;break}return r=JSON.parse(JSON.stringify(ha.state.common.setting)),t.forEach((function(t){r[t.key]=a.data.result[t.key]})),ha.commit("SETTING",r),e.abrupt("return",a.data.result);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},getPolicyList:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.get("".concat(xe.url.core,"/policy/list"),{params:t});case 3:if(a=e.sent,!a.data){e.next=6;break}return e.abrupt("return",a.data.result);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},addOrUpdatePolicy:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.post("".concat(xe.url.core,"/policy/add_update"),t);case 3:if(a=e.sent,!a.data){e.next=6;break}return e.abrupt("return",a.data.result);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},delPolicy:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=new FormData,a.append("id",t.id),e.next=5,xa.post("".concat(xe.url.core,"/policy/del"),a);case 5:if(r=e.sent,!r.data){e.next=8;break}return e.abrupt("return",r.data.result);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},AT:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=new FormData,a.append("at",t.at),e.next=5,xa.post("".concat(xe.url.core,"/logs_at/add"),a);case 5:if(r=e.sent,!r.data){e.next=8;break}return e.abrupt("return",r.data.result);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getAT:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.get("".concat(xe.url.core,"/logs_at/all"),{params:t});case 3:if(a=e.sent,!a.data){e.next=6;break}return e.abrupt("return",a.data.result);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},delAT:function(){return Object(ht["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xa.post("".concat(xe.url.core,"/logs_at/del"));case 3:if(e=t.sent,!e.data){t.next=6;break}return t.abrupt("return",e.data.result);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},getPinList:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.get("".concat(xe.url.core,"/logs_gpio/list"),{params:t});case 3:if(a=e.sent,!a.data){e.next=6;break}return e.abrupt("return",a.data.result);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getOSSList:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.post("".concat(xe.url.core,"/cloud/list_oss"),t);case 3:if(a=e.sent,!a.data){e.next=6;break}return e.abrupt("return",a.data.result);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getTTSList:function(){return Object(ht["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xa.get("".concat(xe.url.core,"/cloud/list_tts"));case 3:if(e=t.sent,!e.data){t.next=6;break}return t.abrupt("return",e.data.result);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},getTTYList:function(){return Object(ht["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xa.get("".concat(xe.url.core,"/device/list_tty"));case 3:if(e=t.sent,!e.data){t.next=6;break}return t.abrupt("return",e.data.result);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},getVersion:function(){return Object(ht["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xa.get("".concat(xe.url.core,"/version"));case 3:if(e=t.sent,!e.data){t.next=6;break}return t.abrupt("return",e.data.result);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},goAbout:function(){aa.replace({path:"/settings/about",query:{redirect:aa.currentRoute.fullPath}})},doUpdateVersion:function(){return Object(ht["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xa.get("".concat(xe.url.core,"/version_update"));case 3:if(e=t.sent,!e.data){t.next=6;break}return t.abrupt("return",e.data.result);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},getProgress:function(){return Object(ht["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xa.get("".concat(xe.url.core,"/version/download_progress"));case 3:if(e=t.sent,!e.data){t.next=6;break}return t.abrupt("return",e.data.result);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},doReload:function(){return Object(ht["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xa.get("".concat(xe.url.core,"/reload"));case 3:if(e=t.sent,!e.data){t.next=6;break}return t.abrupt("return",e.data.result);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},Qa=Ra,qa={getSMSList:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.get("".concat(xe.url.core,"/logs_sms/list"),{params:t});case 3:if(a=e.sent,!a.data){e.next=6;break}return e.abrupt("return",a.data.result);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getCallList:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.get("".concat(xe.url.core,"/logs_call/list"),{params:t});case 3:if(a=e.sent,!a.data){e.next=6;break}return e.abrupt("return",a.data.result);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getCost:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.get("".concat(xe.url.core,"/logs_call/cost"),{params:t});case 3:if(a=e.sent,!a.data){e.next=6;break}return e.abrupt("return",a.data.result);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getNoticeList:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.get("".concat(xe.url.core,"/logs_sys/list"),{params:t});case 3:if(a=e.sent,!a.data){e.next=6;break}return e.abrupt("return",a.data.result);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},delSMS:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=new FormData,a.append("id",t.id),e.next=5,xa.post("".concat(xe.url.core,"/logs_sms/del"),a);case 5:if(r=e.sent,!r.data){e.next=8;break}return e.abrupt("return",r.data.result);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},delCall:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=new FormData,a.append("id",t.id),e.next=5,xa.post("".concat(xe.url.core,"/logs_call/del"),a);case 5:if(r=e.sent,!r.data){e.next=8;break}return e.abrupt("return",r.data.result);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}},Ia=qa,Na={getPCMList:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.get("".concat(xe.url.core,"/test/list_pcm"),{params:t});case 3:if(a=e.sent,!a.data){e.next=6;break}return e.abrupt("return",a.data.result);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},fileASR:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=new FormData,a.append("path",t.path),e.next=5,xa.post("".concat(xe.url.core,"/test/file_asr"),a);case 5:if(r=e.sent,!r.data){e.next=8;break}return e.abrupt("return",r.data.result);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},checkSetList:function(t){return Object(ht["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xa.post("".concat(xe.url.core,"/test/setting"),t);case 3:if(a=e.sent,"undefined"==typeof a.data.result){e.next=6;break}return e.abrupt("return",a.data.result);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},Ea=Na,Ua="https://",Fa="help.iqiar.com",La="api.iqiar.com",Ma={url:{home:Ua+Fa,forgetpw:Ua+Fa+"/p/1",regsiter:Ua+Fa+"/p/2",intent:Ua+Fa+"/p/3",redirect:Ua+La+"/redirect"}},Aa=Ma,Ka={auth:Pa,talk:Oa,setting:Qa,logs:Ia,test:Ea,help:Aa},Va=a("9483");Object(Va["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});a("dc5a");var Da=a("56cd"),za=(a("9a33"),a("f933")),Ba=(a("b97c3"),a("7571")),Wa=(a("c68a"),a("0020")),Ha=(a("d13f"),a("ccb9")),Ga=(a("438c"),a("fbdf")),Ja=(a("b380"),a("bf7b")),Ya=(a("2ef0"),a("9839")),Xa=(a("5783"),a("59a5")),Za=(a("de6a"),a("9a63")),tr=(a("1273"),a("f2ca")),er=(a("5136"),a("681b")),ar=(a("2a26"),a("768f")),rr=(a("68c7"),a("de1b")),sr=(a("cd17"),a("ed3b")),nr=(a("fbd8"),a("55f1")),ir=(a("38e4"),a("d49c")),or=(a("1a62"),a("98c5")),cr=(a("922d"),a("09d9")),ur=(a("5704"),a("b558")),lr=(a("8fb1"),a("0c63")),dr=(a("f2ef"),a("3af3")),pr=(a("6d2a"),a("9571")),mr=(a("55ec"),a("a79d")),fr=(a("0032"),a("e32c")),hr=(a("ee00"),a("bb76")),vr=(a("288f"),a("cdeb")),br=(a("6ba6"),a("5efb")),yr=(a("4a96"),a("a071")),gr=(a("af3d"),a("27fd")),_r=(a("ab9e"),a("2c92")),kr=(a("4955"),a("28da"));r["a"].use(kr["a"]),r["a"].use(_r["a"]),r["a"].use(gr["a"]),r["a"].use(yr["a"]),r["a"].use(br["a"]),r["a"].use(vr["a"]),r["a"].use(hr["a"]),r["a"].use(fr["a"]),r["a"].use(mr["a"]),r["a"].use(pr["a"]),r["a"].use(dr["a"]),r["a"].use(lr["a"]),r["a"].use(ur["a"]),r["a"].use(cr["a"]),r["a"].use(or["a"]),r["a"].use(ir["a"]),r["a"].use(nr["a"]),r["a"].use(sr["a"]),r["a"].use(rr["a"]),r["a"].use(ar["a"]),r["a"].use(er["a"]),r["a"].use(tr["a"]),r["a"].use(Za["a"]),r["a"].use(Xa["a"]),r["a"].use(Ya["d"]),r["a"].use(Ja["a"]),r["a"].use(Ga["a"]),r["a"].use(Ha["a"]),r["a"].use(Wa["a"]),r["a"].use(Ba["a"]),r["a"].use(za["a"]),r["a"].prototype.$message=va["a"],r["a"].prototype.$notification=Da["a"],r["a"].prototype.$confirm=sr["a"].confirm,r["a"].prototype.$error=sr["a"].error,r["a"].prototype.$warning=sr["a"].warning,r["a"].config.productionTip=!1,r["a"].prototype.$api=Ka,new r["a"]({router:aa,store:ha,render:function(t){return t(j)}}).$mount("#app")},"5a18":function(t,e,a){"use strict";var r=a("32ff"),s=a.n(r);s.a},"5cd1":function(t,e,a){},6758:function(t,e,a){t.exports=a.p+"img/logo_w.e6ca76eb.png"},"725e":function(t,e,a){},"7c55":function(t,e,a){"use strict";var r=a("5cd1"),s=a.n(r);s.a},"7fb4":function(t,e,a){},"84f2":function(t,e,a){"use strict";var r=a("d492"),s=a.n(r);s.a},"8a66":function(t,e,a){"use strict";var r=a("2d5e"),s=a.n(r);s.a},"8ce7":function(t,e,a){"use strict";var r=a("7fb4"),s=a.n(r);s.a},"96f8":function(t,e,a){"use strict";var r=a("c300"),s=a.n(r);s.a},a555:function(t,e,a){},a8d1:function(t,e,a){},b023:function(t,e,a){"use strict";var r=a("d499"),s=a.n(r);s.a},b47f:function(t,e,a){"use strict";var r=a("4b4d"),s=a.n(r);s.a},baf3:function(t,e,a){"use strict";var r=a("cc13"),s=a.n(r);s.a},c300:function(t,e,a){},c343:function(t,e,a){},cc13:function(t,e,a){},d492:function(t,e,a){},d499:function(t,e,a){},decf:function(t,e,a){"use strict";var r=a("527f"),s=a.n(r);s.a}});
//# sourceMappingURL=app.1b52d412.js.map